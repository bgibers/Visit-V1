function asyncGeneratorStep(e,r,n,t,o,i,c){try{var a=e[i](c),s=a.value}catch(g){return void n(g)}a.done?r(s):Promise.resolve(s).then(t,o)}function _asyncToGenerator(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function c(e){asyncGeneratorStep(i,t,o,c,a,"next",e)}function a(e){asyncGeneratorStep(i,t,o,c,a,"throw",e)}c(void 0)}))}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{fhSy:function(e,r,n){"use strict";n.r(r),n.d(r,"RegisterPageModule",(function(){return N}));var t=n("ofXK"),o=n("3Pt+"),i=n("TEn/"),c=n("tyNb"),a=n("MCRb"),s=n("IzEk"),g=n("fXoL");function d(e,r){if(1&e&&(g.hc(0,"div",23),g.dc(1,"ion-icon",24),g.Kc(2),g.gc()),2&e){var n=g.sc().$implicit;g.Rb(2),g.Mc(" ",n.message," ")}}function l(e,r){if(1&e&&(g.fc(0),g.Jc(1,d,3,1,"div",19),g.ec()),2&e){var n=r.$implicit,t=g.sc();g.Rb(1),g.yc("ngIf",t.registerForm.get("firstName").hasError(n.type)&&(t.registerForm.get("firstName").dirty||t.registerForm.get("firstName").touched))}}function u(e,r){if(1&e&&(g.hc(0,"div",23),g.dc(1,"ion-icon",24),g.Kc(2),g.gc()),2&e){var n=g.sc().$implicit;g.Rb(2),g.Mc(" ",n.message," ")}}function p(e,r){if(1&e&&(g.fc(0),g.Jc(1,u,3,1,"div",19),g.ec()),2&e){var n=r.$implicit,t=g.sc();g.Rb(1),g.yc("ngIf",t.registerForm.get("lastName").hasError(n.type)&&(t.registerForm.get("lastName").dirty||t.registerForm.get("lastName").touched))}}function f(e,r){if(1&e&&(g.hc(0,"div",23),g.dc(1,"ion-icon",24),g.Kc(2),g.gc()),2&e){var n=g.sc().$implicit;g.Rb(2),g.Mc(" ",n.message," ")}}function m(e,r){if(1&e&&(g.fc(0),g.Jc(1,f,3,1,"div",19),g.ec()),2&e){var n=r.$implicit,t=g.sc();g.Rb(1),g.yc("ngIf",t.registerForm.get("email").hasError(n.type)&&(t.registerForm.get("email").dirty||t.registerForm.get("email").touched))}}function h(e,r){if(1&e&&(g.hc(0,"div",23),g.dc(1,"ion-icon",24),g.Kc(2),g.gc()),2&e){var n=g.sc().$implicit;g.Rb(2),g.Mc(" ",n.message," ")}}function v(e,r){if(1&e&&(g.fc(0),g.Jc(1,h,3,1,"div",19),g.ec()),2&e){var n=r.$implicit,t=g.sc();g.Rb(1),g.yc("ngIf",t.registerForm.get("matchingPasswords").get("password").hasError(n.type)&&(t.registerForm.get("matchingPasswords").get("password").dirty||t.registerForm.get("matchingPasswords").get("password").touched))}}function b(e,r){if(1&e&&(g.hc(0,"div",23),g.dc(1,"ion-icon",24),g.Kc(2),g.gc()),2&e){var n=g.sc().$implicit;g.Rb(2),g.Mc(" ",n.message," ")}}function w(e,r){if(1&e&&(g.fc(0),g.Jc(1,b,3,1,"div",19),g.ec()),2&e){var n=r.$implicit,t=g.sc();g.Rb(1),g.yc("ngIf",t.registerForm.get("matchingPasswords").get("confirmPassword").hasError(n.type)&&(t.registerForm.get("matchingPasswords").get("confirmPassword").dirty||t.registerForm.get("matchingPasswords").get("confirmPassword").touched))}}function y(e,r){if(1&e&&(g.hc(0,"div",23),g.dc(1,"ion-icon",24),g.Kc(2),g.gc()),2&e){var n=g.sc().$implicit;g.Rb(2),g.Mc(" ",n.message," ")}}function P(e,r){if(1&e&&(g.fc(0),g.Jc(1,y,3,1,"div",19),g.ec()),2&e){var n=r.$implicit,t=g.sc();g.Rb(1),g.yc("ngIf",t.registerForm.get("matchingPasswords").hasError(n.type)&&(t.registerForm.get("matchingPasswords").get("confirmPassword").dirty||t.registerForm.get("matchingPasswords").get("confirmPassword").touched))}}function k(e,r){if(1&e&&(g.hc(0,"div",23),g.dc(1,"ion-icon",24),g.Kc(2),g.gc()),2&e){var n=g.sc();g.Rb(2),g.Mc(" ",n.error," ")}}function C(e,r){if(1&e){var n=g.ic();g.hc(0,"ion-button",25),g.pc("click",(function(){return g.Fc(n),g.sc().openAppleSignIn()})),g.dc(1,"ion-icon",26),g.Kc(2," Sign in with Apple "),g.gc()}}var M=function(){return["/sign-in"]},F=function(){function e(r,n,t,o,i){_classCallCheck(this,e),this.formBuilder=r,this.router=n,this.platform=t,this.zone=o,this.accountService=i,this.passwordType="password",this.hasError=!1,this.error="",this.showAppleSignIn=!1,this.validationMessages={email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Please enter a valid email."}],firstName:[{type:"required",message:"First name is required."}],lastName:[{type:"required",message:"Last name is required."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 5 characters long."},{type:"pattern",message:"Your password must contain an uppercase, lowercase, number, and character."}],confirmPassword:[{type:"required",message:"Confirm password is required."}],matchingPasswords:[{type:"areEqual",message:"Password mismatch."}]}}var r;return _createClass(e,[{key:"ngOnInit",value:function(){this.showAppleSignIn=this.platform.is("ios");var e=new o.b("",o.p.compose([o.p.required,o.p.pattern("[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,3}$")]));this.matchingPasswordsGroup=new o.d({password:new o.b("",o.p.compose([o.p.minLength(7),o.p.required,o.p.pattern("^(?=.*[0-9])(?=.*[!@#$%.^&*?])[a-zA-Z0-9!@#$%.^&*?]{7,25}$")])),confirmPassword:new o.b("",o.p.required)},(function(e){return function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"areEqual",value:function(e){var r,n=!0;for(var t in e.controls)if(e.controls.hasOwnProperty(t)){var o=e.controls[t];if(void 0===r)r=o.value;else if(r!==o.value){n=!1;break}}return n?null:{areEqual:!0}}}]),e}().areEqual(e)}));var r=new o.b("",o.p.required),n=new o.b("",o.p.required);this.registerForm=new o.d({firstName:r,lastName:n,email:e,matchingPasswords:this.matchingPasswordsGroup})}},{key:"togglePasswordMode",value:function(){this.passwordType="text"===this.passwordType?"password":"text"}},{key:"openAppleSignIn",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountService.loginApple().then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===n.firstLogin?(t={replaceUrl:!1,state:{firstName:n.firstName,lastName:n.lastName,email:n.email,password:"",sso:!0}},r.zone.run((function(){r.router.navigateByUrl("/post-register-about",t)}))):(o={replaceUrl:!1},r.zone.run((function(){r.router.navigateByUrl("/tab1",o)})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onSubmit",value:function(){var e=this;this.accountService.accountEmailTakenGet(this.registerForm.controls.email.value).pipe(Object(s.a)(1)).subscribe((function(r){if(!1===r){var n={replaceUrl:!1,state:{firstName:e.registerForm.controls.firstName.value,lastName:e.registerForm.controls.lastName.value,email:e.registerForm.controls.email.value,password:e.matchingPasswordsGroup.controls.password.value}};e.zone.run((function(){e.router.navigateByUrl("/post-register-about",n)}))}else e.hasError=!0,e.error="An account with this email is already registered."}),(function(r){console.log(r),e.hasError=!0,e.error="An unexpected error has occurred."}))}}]),e}();F.\u0275fac=function(e){return new(e||F)(g.cc(o.a),g.cc(c.g),g.cc(i.Y),g.cc(g.L),g.cc(a.a))},F.\u0275cmp=g.Wb({type:F,selectors:[["register"]],decls:52,vars:15,consts:[["no-bounce","",3,"scrollY"],[1,"splash"],[1,"ion-align-items-baseline"],[1,"ion-justify-content-start"],["defaultHref","/sign-in",2,"color","beige"],[1,"back-to-login"],["routerLinkActive","router-link-active",3,"routerLink"],[3,"formGroup","ngSubmit"],[1,"roundedInput"],["autocapitalize","true","placeholder","First Name*","type","text","formControlName","firstName","required",""],[1,"validation-errors"],[4,"ngFor","ngForOf"],["autocapitalize","true","placeholder","Last Name*","type","text","formControlName","lastName","required",""],["autocapitalize","true","placeholder","Email*","type","email","formControlName","email","required",""],["formGroupName","matchingPasswords"],["autocapitalize","true","placeholder","Password*","formControlName","password","required","",3,"type"],["name","eye","item-right","",3,"click"],[1,"roundedInput",2,"margin-top","10px"],["autocapitalize","true","placeholder","Confirm Password*","formControlName","confirmPassword","required","",3,"type"],["class","error-message",4,"ngIf"],[1,"button-div"],["expand","block","type","submit",1,"submit-button",3,"disabled"],["class","apple-button","expand","block",3,"click",4,"ngIf"],[1,"error-message"],["name","information-circle-outline"],["expand","block",1,"apple-button",3,"click"],["slot","start","name","logo-apple"]],template:function(e,r){1&e&&(g.hc(0,"ion-content",0),g.hc(1,"div",1),g.hc(2,"ion-row",2),g.hc(3,"ion-col",3),g.hc(4,"ion-buttons"),g.dc(5,"ion-back-button",4),g.gc(),g.gc(),g.gc(),g.hc(6,"h1"),g.Kc(7,"Create Account"),g.gc(),g.hc(8,"p",5),g.Kc(9," Already have an account? "),g.hc(10,"a",6),g.Kc(11,"Login instead"),g.gc(),g.gc(),g.hc(12,"form",7),g.pc("ngSubmit",(function(){return r.onSubmit()})),g.hc(13,"ion-grid"),g.hc(14,"ion-row"),g.hc(15,"ion-col"),g.hc(16,"ion-item",8),g.dc(17,"ion-input",9),g.hc(18,"div",10),g.Jc(19,l,2,1,"ng-container",11),g.gc(),g.gc(),g.gc(),g.hc(20,"ion-col"),g.hc(21,"ion-item",8),g.dc(22,"ion-input",12),g.hc(23,"div",10),g.Jc(24,p,2,1,"ng-container",11),g.gc(),g.gc(),g.gc(),g.gc(),g.hc(25,"ion-row"),g.hc(26,"ion-col"),g.hc(27,"ion-item",8),g.dc(28,"ion-input",13),g.hc(29,"div",10),g.Jc(30,m,2,1,"ng-container",11),g.gc(),g.gc(),g.gc(),g.gc(),g.hc(31,"ion-row"),g.hc(32,"ion-col"),g.hc(33,"div",14),g.hc(34,"ion-item",8),g.dc(35,"ion-input",15),g.hc(36,"ion-icon",16),g.pc("click",(function(){return r.togglePasswordMode()})),g.gc(),g.gc(),g.hc(37,"div",10),g.Jc(38,v,2,1,"ng-container",11),g.gc(),g.hc(39,"ion-item",17),g.dc(40,"ion-input",18),g.gc(),g.hc(41,"div",10),g.Jc(42,w,2,1,"ng-container",11),g.gc(),g.gc(),g.hc(43,"div",10),g.Jc(44,P,2,1,"ng-container",11),g.gc(),g.hc(45,"div",10),g.Jc(46,k,3,1,"div",19),g.gc(),g.gc(),g.gc(),g.gc(),g.hc(47,"div",20),g.hc(48,"ion-button",21),g.Kc(49,"Register"),g.gc(),g.gc(),g.gc(),g.hc(50,"div",20),g.Jc(51,C,3,0,"ion-button",22),g.gc(),g.gc(),g.gc()),2&e&&(g.yc("scrollY",!1),g.Rb(10),g.yc("routerLink",g.Ac(14,M)),g.Rb(2),g.yc("formGroup",r.registerForm),g.Rb(7),g.yc("ngForOf",r.validationMessages.firstName),g.Rb(5),g.yc("ngForOf",r.validationMessages.lastName),g.Rb(6),g.yc("ngForOf",r.validationMessages.email),g.Rb(5),g.yc("type",r.passwordType),g.Rb(3),g.yc("ngForOf",r.validationMessages.password),g.Rb(2),g.yc("type",r.passwordType),g.Rb(2),g.yc("ngForOf",r.validationMessages.confirmPassword),g.Rb(2),g.yc("ngForOf",r.validationMessages.matchingPasswords),g.Rb(2),g.yc("ngIf",r.hasError),g.Rb(2),g.yc("disabled",!r.registerForm.valid),g.Rb(3),g.yc("ngIf",r.showAppleSignIn))},directives:[i.m,i.G,i.l,i.g,i.d,i.e,c.j,c.i,i.Z,o.q,o.l,o.e,i.r,i.x,i.w,i.bb,o.k,o.c,o.o,t.j,o.f,i.t,t.k,i.f],styles:["ion-content[_ngcontent-%COMP%]{--background:none}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:3%;text-align:center;font-size:40px;font-weight:700;margin:0;color:#fff}ion-header[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background:transparent}.close-icon[_ngcontent-%COMP%]{font-size:30px;color:#fff}.roundedInput[_ngcontent-%COMP%]{--border-radius:10px;--border-width:1px;--highlight-height:0;--background:#f8f9fa;padding-top:10px}.nameRow[_ngcontent-%COMP%]{padding-block:10%}.nameRow[_ngcontent-%COMP%]   .roundedInput[_ngcontent-%COMP%]{padding-block:0}.roundedInput.ion-invalid.item-has-focus[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger-shade)}.roundedInput.ion-valid.item-has-focus[_ngcontent-%COMP%]{--border-color:var(--ion-color-success-shade)}.roundedInput.ion-invalid.ion-dirty[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger-shade)}.roundedInput.ion-valid.ion-dirty[_ngcontent-%COMP%]{--border-color:var(--ion-color-success-shade)}.submit-button[_ngcontent-%COMP%]{--background:#fff;--background-activated:#fff;--ripple-color:#fff;--background-focused:#fff;--color-focused:#fff;color:#128c7e;--vertical-align:middle;padding-left:5%;padding-right:5%}.back-to-login[_ngcontent-%COMP%]{color:#fff;text-align:center}.back-to-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.button-div[_ngcontent-%COMP%]{padding-top:3%}ion-grid[_ngcontent-%COMP%]{padding-left:5%;padding-right:5%;padding-bottom:0}"]});var R=[{path:"",component:F}],_=function e(){_classCallCheck(this,e)};_.\u0275mod=g.ac({type:_}),_.\u0275inj=g.Zb({factory:function(e){return new(e||_)},imports:[[c.k.forChild(R)],c.k]});var N=function e(){_classCallCheck(this,e)};N.\u0275mod=g.ac({type:N}),N.\u0275inj=g.Zb({factory:function(e){return new(e||N)},imports:[[t.c,o.g,i.S,o.n,_]]})}}]);