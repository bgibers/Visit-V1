function asyncGeneratorStep(e,n,t,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void t(u)}s.done?n(c):Promise.resolve(c).then(r,o)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){asyncGeneratorStep(i,r,o,a,s,"next",e)}function s(e){asyncGeneratorStep(i,r,o,a,s,"throw",e)}a(void 0)}))}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{b8Qw:function(e,n,t){"use strict";t.r(n),t.d(n,"SignInPageModule",(function(){return w}));var r=t("ofXK"),o=t("3Pt+"),i=t("TEn/"),a=t("tyNb"),s=t("MCRb"),c=t("Jk5i"),u=t("fXoL");function l(e,n){if(1&e&&(u.Qb(0,"div",17),u.Mb(1,"ion-icon",18),u.tc(2),u.Pb()),2&e){var t=u.bc().$implicit;u.Ab(2),u.vc(" ",t.message," ")}}function p(e,n){if(1&e&&(u.Ob(0),u.sc(1,l,3,1,"div",9),u.Nb()),2&e){var t=n.$implicit,r=u.bc();u.Ab(1),u.hc("ngIf",r.loginForm.get("email").hasError(t.type)&&(r.loginForm.get("email").dirty||r.loginForm.get("email").touched))}}function d(e,n){if(1&e&&(u.Qb(0,"div",17),u.Mb(1,"ion-icon",18),u.tc(2),u.Pb()),2&e){var t=u.bc();u.Ab(2),u.vc(" ",t.invalidLoginText," ")}}function f(e,n){if(1&e){var t=u.Rb();u.Qb(0,"ion-button",19),u.Yb("click",(function(){return u.oc(t),u.bc().openAppleSignIn()})),u.Mb(1,"ion-icon",20),u.tc(2," Sign in with Apple "),u.Pb()}}var g,b,m,h=[{path:"",component:(g=function(){function e(n,t,r,o,i,a,s,c){_classCallCheck(this,e),this.formBuilder=n,this.loadingController=t,this.modalController=r,this.platform=o,this.cd=i,this.zone=a,this.router=s,this.accountService=c,this.passwordType="password",this.validationMessages={email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Please enter a valid email."}],password:[{type:"required",message:"Password is required."}]},this.invalidLogin=!1,this.invalidLoginText="",this.showAppleSignIn=!1}var n,t,r,i,a;return _createClass(e,[{key:"togglePasswordMode",value:function(){this.passwordType="text"===this.passwordType?"password":"text"}},{key:"ngOnInit",value:(a=_asyncToGenerator(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.showAppleSignIn=this.platform.is("ios"),n=new o.b("",o.p.compose([o.p.required,o.p.pattern("[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,3}$")])),t=new o.b("",o.p.compose([o.p.required])),this.loginForm=new o.d({email:n,password:t});case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"openAppleSignIn",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountService.loginApple().then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===t.firstLogin?(r={replaceUrl:!1,state:{firstName:t.firstName,lastName:t.lastName,email:t.email,password:"",sso:!0}},n.zone.run((function(){n.router.navigateByUrl("/post-register-about",r)}))):(o={replaceUrl:!1},n.zone.run((function(){n.router.navigateByUrl("/tab1",o)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"openFacebookSignIn",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountService.loginFacebook().then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===t.firstLogin?(r={replaceUrl:!1,state:{firstName:t.firstName,lastName:t.lastName,email:t.email,password:"",sso:!0}},n.zone.run((function(){n.router.navigateByUrl("/post-register-about",r)}))):(o={replaceUrl:!1},n.zone.run((function(){n.router.navigateByUrl("/tab1",o)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onSubmit",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(n){var t,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={userName:this.loginForm.controls.email.value,password:this.loginForm.controls.password.value},e.next=3,this.loadingController.create({});case 3:return r=e.sent,e.next=6,r.present();case 6:this.accountService.login(t.userName,t.password).then((function(e){console.log(e),o.invalidLogin=!1,o.zone.run((function(){o.router.navigateByUrl("/tab1",{replaceUrl:!1})})),r.dismiss()}),(function(e){o.invalidLoginText="auth/user-not-found"===e.code?"User not found":"auth/wrong-password"===e.code?"Invalid password":"Unexpected error",o.invalidLogin=!0,o.refresh(),r.dismiss()}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"openRegister",value:function(){var e=this,n={replaceUrl:!1,state:{}};this.zone.run((function(){e.router.navigateByUrl("/register",n)}))}},{key:"presentForgotPassword",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:c.a,showBackdrop:!0,cssClass:"forgot-password-modal"});case 2:return(n=e.sent).onDidDismiss().then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=6,n.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"refresh",value:function(){this.cd.detectChanges()}},{key:"getInvalidLogin",get:function(){return this.invalidLogin}}]),e}(),g.\u0275fac=function(e){return new(e||g)(u.Lb(o.a),u.Lb(i.U),u.Lb(i.V),u.Lb(i.Y),u.Lb(u.h),u.Lb(u.z),u.Lb(a.g),u.Lb(s.a))},g.\u0275cmp=u.Fb({type:g,selectors:[["sign-in"]],decls:26,vars:7,consts:[["no-bounce","",1,"form-content",3,"scrollY"],[1,"splash"],[3,"formGroup","ngSubmit"],[1,"roundedInput"],["autocapitalize","true","placeholder","Email","type","email","formControlName","email","required",""],[1,"validation-errors"],[4,"ngFor","ngForOf"],["autocapitalize","true","placeholder","Password","formControlName","password","required","",3,"type"],["name","eye","item-right","",3,"click"],["class","error-message",4,"ngIf"],[1,"button-div"],["size","6",2,"padding-left","22px"],["expand","block","type","submit",1,"submit-button",2,"padding-right","0px","padding-left","0",3,"disabled"],["size","6",2,"padding-right","22px"],["expand","block","type","submit",1,"submit-button",2,"padding-right","0px","padding-left","0",3,"click"],["class","apple-button","expand","block",3,"click",4,"ngIf"],[1,"forgot-password-link","center-any-object",3,"click"],[1,"error-message"],["name","information-circle-outline"],["expand","block",1,"apple-button",3,"click"],["slot","start","name","logo-apple"]],template:function(e,n){1&e&&(u.Qb(0,"ion-content",0),u.Qb(1,"div",1),u.Qb(2,"h1"),u.tc(3,"Welcome"),u.Pb(),u.Qb(4,"form",2),u.Yb("ngSubmit",(function(){return n.onSubmit(n.loginForm.value)})),u.Qb(5,"ion-item",3),u.Mb(6,"ion-input",4),u.Qb(7,"div",5),u.sc(8,p,2,1,"ng-container",6),u.Pb(),u.Pb(),u.Qb(9,"ion-item",3),u.Mb(10,"ion-input",7),u.Qb(11,"ion-icon",8),u.Yb("click",(function(){return n.togglePasswordMode()})),u.Pb(),u.Pb(),u.Qb(12,"div",5),u.sc(13,d,3,1,"div",9),u.Pb(),u.Qb(14,"div",10),u.Qb(15,"ion-row"),u.Qb(16,"ion-col",11),u.Qb(17,"ion-button",12),u.tc(18,"Login"),u.Pb(),u.Pb(),u.Qb(19,"ion-col",13),u.Qb(20,"ion-button",14),u.Yb("click",(function(){return n.openRegister()})),u.tc(21,"Register"),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(22,"div",10),u.sc(23,f,3,0,"ion-button",15),u.Qb(24,"h3",16),u.Yb("click",(function(){return n.presentForgotPassword()})),u.tc(25,"Forgot Password?"),u.Pb(),u.Pb(),u.Pb(),u.Pb()),2&e&&(u.hc("scrollY",!1),u.Ab(4),u.hc("formGroup",n.loginForm),u.Ab(4),u.hc("ngForOf",n.validationMessages.email),u.Ab(2),u.hc("type",n.passwordType),u.Ab(3),u.hc("ngIf",n.getInvalidLogin),u.Ab(4),u.hc("disabled",!n.loginForm.valid),u.Ab(6),u.hc("ngIf",n.showAppleSignIn))},directives:[i.m,o.q,o.l,o.e,i.x,i.w,i.bb,o.k,o.c,o.o,r.j,i.t,r.k,i.G,i.l,i.f],styles:["h1[_ngcontent-%COMP%]{font-size:50px;font-weight:700;color:#fff}ion-content[_ngcontent-%COMP%]{--background:none}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:25%;padding-bottom:50px;font-size:40px;margin:0;text-align:center;font-weight:700;color:#fff}.roundedInput[_ngcontent-%COMP%]{--border-radius:10px;--border-width:1px;--highlight-height:0;--background:#f8f9fa;padding-top:20px;padding-left:5%;padding-right:5%}.roundedInput.ion-invalid.item-has-focus[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger-shade)}.roundedInput.ion-valid.item-has-focus[_ngcontent-%COMP%]{--border-color:var(--ion-color-success-shade)}.roundedInput.ion-invalid.ion-dirty[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger-shade)}.roundedInput.ion-valid.ion-dirty[_ngcontent-%COMP%]{--border-color:var(--ion-color-success-shade)}.submit-button[_ngcontent-%COMP%]{--background:#fff;--background-activated:#fff;--ripple-color:#fff;--background-focused:#fff;--color-focused:#fff;color:#128c7e;--vertical-align:middle;padding-left:5%;padding-right:5%}.button-div[_ngcontent-%COMP%]{padding-top:6%}.forgot-password-link[_ngcontent-%COMP%]{--vertical-align:middle;color:#fff;text-decoration:underline}"]}),g)}],v=((m=function e(){_classCallCheck(this,e)}).\u0275mod=u.Jb({type:m}),m.\u0275inj=u.Ib({factory:function(e){return new(e||m)},imports:[[a.k.forChild(h)],a.k]}),m),w=((b=function e(){_classCallCheck(this,e)}).\u0275mod=u.Jb({type:b}),b.\u0275inj=u.Ib({factory:function(e){return new(e||b)},imports:[[r.c,o.g,o.n,i.S,v]]}),b)}}]);