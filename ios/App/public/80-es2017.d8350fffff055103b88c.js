(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{T60g:function(t,e,i){"use strict";i.r(e),i.d(e,"PostRegisterLocationsPageModule",(function(){return T}));var n=i("ofXK"),o=i("3Pt+"),c=i("TEn/"),s=i("tyNb"),a=i("KFg1"),r=i("iBXB"),d=i("MCRb"),h=i("IzEk"),l=i("fXoL");function u(t,e){if(1&t){const t=l.ic();l.hc(0,"ion-button",5),l.pc("click",(function(){l.Fc(t);return l.sc().switchMode()})),l.Kc(1,"Next"),l.gc()}}function p(t,e){if(1&t){const t=l.ic();l.hc(0,"ion-button",5),l.pc("click",(function(){l.Fc(t);return l.sc().switchMode()})),l.Kc(1,"Back"),l.gc()}}function f(t,e){if(1&t){const t=l.ic();l.hc(0,"ion-button",5),l.pc("click",(function(){l.Fc(t);return l.sc().onSubmit()})),l.Kc(1,"I'm Done!"),l.gc()}}class g{constructor(t,e,i,n){this.router=t,this.accountService=e,this.zone=i,this.route=n,this.selectionMode=r.a.VISITED,this.titleTextVisited="Where have you visited?",this.titleTextToVisit="Bucketlist",this.subtitleTextVisited="We'll get to where you want to go in a moment,\n  but first let's show your friends (and yourself) where you've been!",this.subtitleTextToVisit="Mark down every and any place you find interesting and want to checkout someday, let's make it happen!",this.displayVisitedText=!0,this.locationRequest={locations:{},registration:!0},this.hasError=!1,this.error=""}ionViewWillEnter(){this.map=new a.a(this.zone),this.map.addMapToDiv(this.selectionMode,"register-map")}ionViewDidLeave(){this.map.destroyMap()}switchMode(){this.map.zoomHome(),this.selectionMode===r.a.VISITED?(this.map.setSelectionMode(r.a.TO_VISIT),this.displayVisitedText=!1,this.selectionMode=r.a.TO_VISIT):(this.map.setSelectionMode(r.a.VISITED),this.displayVisitedText=!0,this.selectionMode=r.a.VISITED)}mapLocationsToRequest(){this.map.selectedArr.forEach(t=>{this.locationRequest.locations[t.locationId]=t.status})}onSubmit(){this.mapLocationsToRequest(),this.accountService.accountUpdateLocationsPost(this.locationRequest).pipe(Object(h.a)(1)).subscribe(t=>{const e={replaceUrl:!1};this.zone.run(()=>{this.router.navigateByUrl("/tab1",e)})},t=>{this.hasError=!0,this.error="An unexpected error has occurred."})}}g.\u0275fac=function(t){return new(t||g)(l.cc(s.g),l.cc(d.a),l.cc(l.L),l.cc(s.a))},g.\u0275cmp=l.Wb({type:g,selectors:[["post-register-locations"]],decls:13,vars:5,consts:[["no-bounce",""],[1,"splash"],["id","register-map",1,"chartdiv"],[1,"button-div"],["class","submit-button","expand","block","type","submit",3,"click",4,"ngIf"],["expand","block","type","submit",1,"submit-button",3,"click"]],template:function(t,e){1&t&&(l.hc(0,"ion-content",0),l.hc(1,"div",1),l.hc(2,"h1"),l.Kc(3),l.gc(),l.hc(4,"h3"),l.Kc(5),l.gc(),l.hc(6,"h4"),l.Kc(7," Click a location on the map to zoom to it. Double click the location to select/deselect it. "),l.gc(),l.dc(8,"div",2),l.hc(9,"div",3),l.Jc(10,u,2,0,"ion-button",4),l.Jc(11,p,2,0,"ion-button",4),l.Jc(12,f,2,0,"ion-button",4),l.gc(),l.gc(),l.gc()),2&t&&(l.Rb(3),l.Lc(e.displayVisitedText?e.titleTextVisited:e.titleTextToVisit),l.Rb(2),l.Lc(e.displayVisitedText?e.subtitleTextVisited:e.subtitleTextToVisit),l.Rb(5),l.yc("ngIf",e.displayVisitedText),l.Rb(1),l.yc("ngIf",!e.displayVisitedText),l.Rb(1),l.yc("ngIf",!e.displayVisitedText))},directives:[c.m,n.k,c.f],styles:["ion-content[_ngcontent-%COMP%]{--background:none}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-left:5%;padding-top:0;font-size:40px;font-weight:700;margin:0;color:#fff}ion-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}ion-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding-left:5%;padding-right:0;color:#fff;margin:0}ion-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:11px}.submit-button[_ngcontent-%COMP%]{--background:#fff;--background-activated:#fff;--ripple-color:#fff;--background-focused:#fff;--color-focused:#fff;color:#128c7e;--vertical-align:middle;padding-left:5%;padding-right:5%}.button-div[_ngcontent-%COMP%]{padding-top:0}.chartdiv[_ngcontent-%COMP%]{width:100%;height:400px}"]});const b=[{path:"",component:g}];class m{}m.\u0275mod=l.ac({type:m}),m.\u0275inj=l.Zb({factory:function(t){return new(t||m)},imports:[[s.k.forChild(b)],s.k]});class T{}T.\u0275mod=l.ac({type:T}),T.\u0275inj=l.Zb({factory:function(t){return new(t||T)},imports:[[n.c,o.g,c.S,m]]})}}]);