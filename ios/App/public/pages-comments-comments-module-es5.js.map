{"version":3,"sources":["webpack:///src/app/pages/comments/comments-routing.module.ts","webpack:///src/app/pages/comments/comments.module.ts","webpack:///src/app/pages/comments/comments.page.ts","webpack:///src/app/pages/comments/comments.page.html"],"names":["routes","path","component","CommentsPageRoutingModule","forChild","imports","exports","CommentsPageModule","declarations","CommentsPage","storage","modalController","loadingController","router","zone","route","postSvc","accountService","cd","comments","newComments","postId","post","undefined","commentText","likeIcon","likedIcon","get","then","val","image","avi","queryParams","subscribe","params","getCurrentNavigation","extras","state","getPostInfo","count","data","id","create","loading","present","getComments","getPost","detectChanges","Promise","resolve","postsSingleIdGet","pipe","res","console","log","dismiss","postfaa","componentProps","src","cssClass","keyboardClose","showBackdrop","modal","likedByCurrentUser","postsLikePostIdPost","toString","likeCount","postsCommentsGetPostIdGet","length","resLen","i","push","comment","postsCommentPostIdPost","run","navigateByUrl","userId","navigationExtras","replaceUrl","backToFeed","openProfile","likePost","commentOnPost","selector","templateUrl","styleUrls"],"mappings":"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","file":"pages-comments-comments-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CommentsPage } from './comments.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CommentsPage,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CommentsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CommentsPageRoutingModule } from './comments-routing.module';\r\n\r\nimport { CommentsPage } from './comments.page';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    CommentsPageRoutingModule,\r\n  ],\r\n  declarations: [CommentsPage],\r\n})\r\nexport class CommentsPageModule {}\r\n","import { ChangeDetectorRef, Component, NgZone, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\r\nimport { LoadingController, ModalController } from '@ionic/angular';\r\nimport { take } from 'rxjs/operators';\r\nimport { AccountsService, PostService } from 'src/app/backend/clients';\r\nimport { CommentApi } from 'src/app/backend/clients/model/commentApi';\r\nimport { SearchPage } from '../modals/search/search.page';\r\nimport { Storage } from '@ionic/storage';\r\nimport { PostApi } from 'src/app/backend/clients/model/postApi';\r\nimport { ViewerModalComponent } from 'ngx-ionic-image-viewer';\r\n\r\n@Component({\r\n  selector: 'comments',\r\n  templateUrl: './comments.page.html',\r\n  styleUrls: ['./comments.page.scss'],\r\n})\r\nexport class CommentsPage {\r\n  comments = [];\r\n  newComments = [];\r\n  postId = '';\r\n  post: PostApi = undefined;\r\n  userId: any;\r\n  public commentText = '';\r\n  image: any;\r\n  postfaa: any;\r\n  likeIcon = '../../assets/UI/heart.svg';\r\n  likedIcon = '../../assets/UI/liked-icon.svg';\r\n\r\n  constructor(\r\n    private storage: Storage,\r\n    public modalController: ModalController,\r\n    public loadingController: LoadingController,\r\n    private router: Router,\r\n    private zone: NgZone,\r\n    private route: ActivatedRoute,\r\n    private postSvc: PostService,\r\n    private accountService: AccountsService,\r\n    private cd: ChangeDetectorRef\r\n  ) {\r\n    this.storage.get('image').then((val) => {\r\n      this.image = val.avi;\r\n   });\r\n\r\n    this.route.queryParams.subscribe((params) => {\r\n      if (this.router.getCurrentNavigation().extras.state) {\r\n        this.postId = this.router.getCurrentNavigation().extras.state.postId;\r\n      }\r\n      this.getPostInfo();\r\n    });\r\n    \r\n  }\r\n\r\n  myFunc() {\r\n    return { count: 1, data: { id: 1 } };\r\n  }\r\n\r\n  async getPostInfo() {\r\n    const loading = await this.loadingController.create({\r\n      // duration: 2000,\r\n    });\r\n    await loading.present();\r\n\r\n    this.getComments();\r\n    await this.getPost(loading).then(() => {\r\n      this.cd.detectChanges();\r\n    });\r\n  }\r\n\r\n  async getPost(loading: HTMLIonLoadingElement) {\r\n    return new Promise((resolve) => {\r\n      this.postSvc.postsSingleIdGet(+this.postId).pipe(take(1)).subscribe(async res => {\r\n        console.log(res)\r\n        this.post = res;\r\n        loading.dismiss();\r\n        resolve('done');\r\n      });\r\n    });\r\n  }\r\n\r\n  async openViewer(post) {\r\n    this.postfaa = post;\r\n    const modal = await this.modalController.create({\r\n      component: ViewerModalComponent,\r\n      componentProps: {\r\n        src: this.postfaa\r\n      },\r\n      cssClass: 'ion-img-viewer',\r\n      keyboardClose: true,\r\n      showBackdrop: true\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  likePost(post: PostApi) {\r\n    if (!post.likedByCurrentUser) {\r\n      this.postSvc\r\n        .postsLikePostIdPost(post.postId.toString())\r\n        .pipe(take(1))\r\n        .subscribe();\r\n      post.likeCount++;\r\n      post.likedByCurrentUser = true;\r\n    }\r\n  }\r\n\r\n  getComments() {\r\n    // todo fix this. the list is overwriting\r\n    this.postSvc\r\n      .postsCommentsGetPostIdGet(this.postId)\r\n      .pipe(take(1))\r\n      .subscribe((res) => {\r\n        if (this.comments.length === 0) {\r\n          this.comments = [];\r\n        } else {\r\n          this.comments = [];\r\n          // this.newComments = [];\r\n          // console.log(this.comments);\r\n          // let oldResLen = oldComments.length;\r\n          //   for (let i = 0; i < oldResLen; i++) {\r\n          //     console.log(i);\r\n          //     this.comments.push(oldComments[i]);\r\n\r\n          //     this.newComments.push(oldComments[i]);\r\n          //   }\r\n        }\r\n        const resLen = res.length;\r\n        for (let i = 0; i < resLen; i++) {\r\n          this.comments.push(res[i]);\r\n        }\r\n        this.cd.detectChanges();\r\n      });\r\n  }\r\n\r\n  get canSend(): boolean {\r\n    return this.commentText.length > 1 && this.commentText.length < 250;\r\n  }\r\n\r\n  commentOnPost() {\r\n    const comment = {\r\n      comment: this.commentText,\r\n    } as CommentApi;\r\n\r\n    this.postSvc\r\n      .postsCommentPostIdPost(this.postId, comment)\r\n      .pipe(take(1))\r\n      .subscribe((res) => {\r\n        // todo handle error. refresh comments after new posted\r\n        this.getComments();\r\n      });\r\n    this.commentText = '';\r\n  }\r\n\r\n  backToFeed() {\r\n    this.zone.run(() => {\r\n      this.router.navigateByUrl('/tab1');\r\n    });\r\n  }\r\n\r\n  openProfile(userId: string) {\r\n    const navigationExtras: NavigationExtras = {\r\n      replaceUrl: false,\r\n      state: {\r\n        userId,\r\n      },\r\n    };\r\n    this.zone.run(() => {\r\n      this.router.navigateByUrl('/user-profile', navigationExtras);\r\n    });\r\n  }\r\n\r\n  async presentSearchModal() {\r\n    const modal = await this.modalController.create({\r\n      component: SearchPage,\r\n      componentProps: {},\r\n      showBackdrop: true,\r\n      cssClass: 'search-modal',\r\n    });\r\n    return await modal.present();\r\n  }\r\n}\r\n","<!-- <ion-header style=\"background-color: #128c7e\">\r\n  <ion-toolbar color=\"#128C7E\">\r\n    <ion-grid class=\"header-grid\">\r\n      <ion-row class=\"ion-align-items-baseline\">\r\n        <ion-col class=\"ion-justify-content-start\">\r\n          <ion-buttons class=\"ion-justify-content-start\">\r\n            <ion-button\r\n              class=\"ion-justify-content-start circle-pic\"\r\n              (click)=\"openProfile()\"\r\n            >\r\n              <img\r\n                class=\"img-center circle-pic\"\r\n                src=\"{{image}}\"\r\n              />\r\n            </ion-button>\r\n          </ion-buttons>\r\n        </ion-col>\r\n        <ion-col class=\"ion-justify-self-bottom\">\r\n          <img\r\n            height=\"60px\"\r\n            width=\"120px\"\r\n            src=\"../../assets/logos/whiteLogo.png\"\r\n          />\r\n        </ion-col>\r\n        <ion-col class=\"ion-justify-content-end\">\r\n          <ion-buttons class=\"ion-justify-content-end\">\r\n            <ion-button\r\n              class=\"ion-justify-content-end\"\r\n              (click)=\"presentSearchModal()\"\r\n            >\r\n              <img\r\n                class=\"img-center\"\r\n                src=\"../../assets/UI/search-outline.svg\"\r\n              />\r\n            </ion-button>\r\n          </ion-buttons>\r\n        </ion-col>\r\n      </ion-row>\r\n    </ion-grid>\r\n  </ion-toolbar>\r\n</ion-header> -->\r\n<ion-header style=\"background-color:#128C7E\" class=\"ion-no-border\">\r\n  <ion-toolbar color=\"#128C7E\" class=\"ion-no-border\">\r\n    <ion-grid class=\"header-grid\">\r\n      <ion-row class=\"ion-align-items-baseline\">\r\n        <ion-col class=\"ion-justify-content-start\">\r\n          <ion-buttons>\r\n            <ion-back-button defaultHref=\"/tab1\" (click)=\"backToFeed()\" style=\"color: beige;\"></ion-back-button>\r\n          </ion-buttons>\r\n        </ion-col>\r\n      </ion-row>\r\n    </ion-grid>\r\n  </ion-toolbar>\r\n</ion-header>\r\n<ion-content [scrollY]=\"true\">\r\n<ion-card\r\n[ngClass]=\"{\r\n  'post-image-container': post?.postContentLink,\r\n  'post-container': post?.postContentLink === undefined\r\n}\"\r\n>\r\n<div class=\"card-flip-front\">\r\n  <ion-grid class=\"three-col-grid\">\r\n    <ion-row>\r\n      <ion-col size=\".6\">\r\n        <ion-avatar>\r\n          <img [src]=\"post?.fkUser?.avi\" (click)=\"openProfile(post?.fkUserId)\" />\r\n        </ion-avatar>\r\n      </ion-col>\r\n      <ion-col>\r\n        <ion-row>\r\n          <ion-card-title class=\"card-title\"\r\n            >{{ post?.fkUser?.firstname }}\r\n            {{ post?.fkUser?.lastname }}</ion-card-title\r\n          >\r\n        </ion-row>\r\n        <ion-row>\r\n          <ion-card-subtitle color=\"medium\">{{\r\n            post?.location.locationName\r\n          }}</ion-card-subtitle>\r\n        </ion-row>\r\n      </ion-col>\r\n      <ion-col size=\".4\">\r\n        <ion-buttons>\r\n          <ion-button class=\"ion-justify-content-center\">\r\n            <img src=\"../../assets/UI/optionsDots.svg\" />\r\n          </ion-button>\r\n        </ion-buttons>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n  <ion-card-content>\r\n    <ion-grid>\r\n      <ion-row class=\"ion-align-items-baseline\">\r\n        <ion-col>\r\n          {{ post?.postCaption }}\r\n        </ion-col>\r\n      </ion-row>\r\n      <ion-row *ngIf=\"post?.postContentLink\">\r\n        <ion-col>\r\n          <div class=\"swiper-zoom-container\" >\r\n            <img ionImgViewer \r\n              [src]=\"post?.postContentLink\"\r\n              height=\"300\"\r\n              [alt]=\"post?.postId\"\r\n              class=\"rcorners\"\r\n              (click)=\"openViewer(post?.postContentLink)\"\r\n            />\r\n          </div>\r\n        </ion-col>\r\n      </ion-row>\r\n      <ion-row>\r\n        <ion-col>\r\n          <ion-buttons>\r\n            <ion-button\r\n              class=\"ion-justify-content-center\"\r\n              (click)=\"likePost(post)\"\r\n            >\r\n              <img\r\n                [src]=\"\r\n                  post?.likedByCurrentUser == true ? likedIcon : likeIcon\r\n                \"\r\n              />\r\n            </ion-button>\r\n            {{ post?.likeCount || 0 }}\r\n          </ion-buttons>\r\n        </ion-col>\r\n        <ion-col size=\"4\">\r\n        </ion-col>\r\n        <ion-col class=\"align-self-center text-center\">\r\n          <ion-note>{{ post?.postTime | dateAgo }}</ion-note>\r\n        </ion-col>\r\n      </ion-row>\r\n    </ion-grid>\r\n    <ion-item>\r\n      <ion-input\r\n        type=\"text\"\r\n        placeholder=\"Comment\"\r\n        [(ngModel)]=\"commentText\"\r\n      ></ion-input>\r\n      <button [disabled]=\"!canSend\" clear item-right (click)=\"commentOnPost()\">\r\n        Send\r\n      </button>\r\n    </ion-item>\r\n  </ion-card-content>\r\n</div>\r\n</ion-card>\r\n  <h1\r\n    *ngIf=\"comments.length === 0\"\r\n    class=\"ion-text-center ion-justify-center\"\r\n    style=\"height: 100%; flex-direction: column\"\r\n  >\r\n    No comments! Be the first!\r\n  </h1>\r\n  <ion-grid>\r\n    <ion-row>\r\n      <ion-col>\r\n        <ion-virtual-scroll [items]=\"comments\" [scrollTop]=\"true\">\r\n          <ion-item\r\n            *virtualItem=\"let comment; let itemBounds = bounds;\"\r\n            class=\"comment\"\r\n          >\r\n            <ion-grid class=\"comments-grid\">\r\n              <ion-row>\r\n                <ion-col class=\"ion-align-self-center\">\r\n                  <ion-row class=\"ion-align-items-center\">\r\n                    <ion-col>\r\n                      <img\r\n                        [src]=\"comment.user.avi\"\r\n                        class=\"user-pic img-center\"\r\n                        (click)=\"openProfile(comment.user.id)\"\r\n                      />\r\n                    </ion-col>\r\n                  </ion-row>\r\n                </ion-col>\r\n                <ion-col size=\"2.2\">\r\n                  <ion-row>\r\n                    <ion-col>\r\n                      <p>\r\n                        <strong\r\n                          >{{comment.user.firstName}}\r\n                          {{comment.user.lastname}}</strong\r\n                        >\r\n                        {{comment.comment}}\r\n                      </p>\r\n                    </ion-col>\r\n                  </ion-row>\r\n                  <ion-row>\r\n                    <ion-col>\r\n                      <ion-text color=\"medium\"\r\n                        >{{comment.date | dateAgo}}</ion-text\r\n                      >\r\n                    </ion-col>\r\n                  </ion-row>\r\n                </ion-col>\r\n              </ion-row>\r\n            </ion-grid>\r\n          </ion-item>\r\n        </ion-virtual-scroll>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n</ion-content>\r\n"]}