(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{"O/ay":function(i,c,n){"use strict";n.r(c),n.d(c,"NotificationsPageModule",(function(){return u}));var o=n("TEn/"),t=n("tyNb"),e=n("ofXK"),r=n("3Pt+"),s=n("IzEk"),a=n("MCRb"),g=n("fXoL"),h=n("e8h1"),d=n("6Kw5");function l(i,c){1&i&&(g.hc(0,"h1",13),g.Kc(1," No notifications yet\n"),g.gc())}function m(i,c){if(1&i&&(g.hc(0,"ion-card"),g.hc(1,"ion-grid",14),g.hc(2,"ion-row",15),g.hc(3,"ion-col"),g.hc(4,"ion-row"),g.hc(5,"ion-col"),g.dc(6,"img",16),g.gc(),g.gc(),g.hc(7,"ion-row"),g.hc(8,"ion-col"),g.dc(9,"img",17),g.gc(),g.gc(),g.gc(),g.hc(10,"ion-col",18),g.hc(11,"ion-row"),g.hc(12,"ion-col"),g.hc(13,"p"),g.hc(14,"strong"),g.Kc(15),g.gc(),g.Kc(16),g.gc(),g.gc(),g.gc(),g.hc(17,"ion-row",19),g.hc(18,"ion-col",20),g.hc(19,"ion-note"),g.Kc(20),g.tc(21,"dateAgo"),g.gc(),g.gc(),g.gc(),g.gc(),g.gc(),g.gc(),g.gc()),2&i){const i=c.$implicit;g.Rb(6),g.yc("src",i.userAvi,g.Gc),g.Rb(3),g.yc("src",i.icon,g.Gc),g.Rb(6),g.Lc(i.name),g.Rb(1),g.Nc(" ",i.verbage," ",1==i.isComment?'"'+i.comment+'"':""," "),g.Rb(4),g.Lc(g.uc(21,6,i.time))}}class f{constructor(i,c,n,o,t,e,r){this.storage=i,this.router=c,this.zone=n,this.userService=o,this.accountService=t,this.loadingController=e,this.cd=r,this.notifications=[],this.commentIcon="../../../assets/UI/comment-icon.svg",this.likeIcon="../../../assets/UI/liked-icon.svg",this.commentVerbage="commented on your post",this.likeVerbage="liked your post",this.userId="",this.userId=this.accountService.getUserId()}async ionViewDidEnter(){const i=await this.loadingController.create();await i.present(),await this.refreshNotifications(i).then(()=>{this.cd.detectChanges()}),i.dismiss()}refreshNotifications(i){return this.notifications=[],new Promise(c=>{this.userService.userNotificationsGet().pipe(Object(s.a)(1)).subscribe(async n=>{n.forEach(i=>{const c=""!==i.comment;this.notifications.push({name:`${i.userWhoPerformedAction.firstName} ${i.userWhoPerformedAction.lastName}`,icon:c?this.commentIcon:this.likeIcon,verbage:c?this.commentVerbage:this.likeVerbage,isComment:c,comment:i.comment,time:i.date,postId:i.fkPostId,userAvi:i.userWhoPerformedAction.avi})}),void 0!==i.target&&i.target.complete(),c("done")})})}}f.\u0275fac=function(i){return new(i||f)(g.cc(h.b),g.cc(t.g),g.cc(g.L),g.cc(a.c),g.cc(a.a),g.cc(o.U),g.cc(g.j))},f.\u0275cmp=g.Wb({type:f,selectors:[["notifications"]],decls:14,vars:3,consts:[[1,"ion-no-border",2,"background-color","#128C7E"],["color","#128C7E",1,"ion-no-border"],[1,"header-grid"],[1,"ion-align-items-baseline"],[1,"ion-justify-content-start"],["defaultHref","/tab1",2,"color","white"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["refresherRef",""],["pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refreshing..."],["class","ion-text-center ion-justify-center","style","height: 100%; flex-direction: column",4,"ngIf"],[1,"notifications-list"],[4,"ngFor","ngForOf"],[1,"ion-text-center","ion-justify-center",2,"height","100%","flex-direction","column"],[1,"comments-grid"],[2,"padding-left","8px","padding-top","8px"],[1,"user-pic","img-center",3,"src"],[3,"src"],["size","2.5"],[1,"ion-align-items-end"],[1,"ion-align-self-end"]],template:function(i,c){1&i&&(g.hc(0,"ion-header",0),g.hc(1,"ion-toolbar",1),g.hc(2,"ion-grid",2),g.hc(3,"ion-row",3),g.hc(4,"ion-col",4),g.hc(5,"ion-buttons"),g.dc(6,"ion-back-button",5),g.gc(),g.gc(),g.gc(),g.gc(),g.gc(),g.gc(),g.hc(7,"ion-content",6),g.hc(8,"ion-refresher",7,8),g.pc("ionRefresh",(function(i){return c.refreshNotifications(i)})),g.dc(10,"ion-refresher-content",9),g.gc(),g.Jc(11,l,2,0,"h1",10),g.hc(12,"ion-list",11),g.Jc(13,m,22,8,"ion-card",12),g.gc(),g.gc()),2&i&&(g.Rb(7),g.yc("fullscreen",!0),g.Rb(4),g.yc("ngIf",0===c.notifications.length),g.Rb(2),g.yc("ngForOf",c.notifications))},directives:[o.s,o.Q,o.r,o.G,o.l,o.g,o.d,o.e,o.m,o.D,o.E,e.k,o.B,e.j,o.h,o.C],pipes:[d.a],styles:[".user-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}p[_ngcontent-%COMP%]{margin:0;padding-top:6px;padding-right:2px;padding-bottom:12px}ion-content[_ngcontent-%COMP%]{--padding-top:10%}.comments-grid[_ngcontent-%COMP%]{--ion-grid-columns:3;--ion-grid-column-padding:1px;--ion-grid-padding:1px}ion-card[_ngcontent-%COMP%]{margin-bottom:10px!important;margin-top:4px!important}"]});var p=n("PCNd");class u{}u.\u0275mod=g.ac({type:u}),u.\u0275inj=g.Zb({factory:function(i){return new(i||u)},imports:[[o.S,e.c,r.g,p.a,t.k.forChild([{path:"",component:f}])]]})}}]);