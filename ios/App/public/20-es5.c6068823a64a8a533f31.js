function asyncGeneratorStep(e,r,t,n,o,i,a){try{var s=e[i](a),c=s.value}catch(b){return void t(b)}s.done?r(c):Promise.resolve(c).then(n,o)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){asyncGeneratorStep(i,n,o,a,s,"next",e)}function s(e){asyncGeneratorStep(i,n,o,a,s,"throw",e)}a(void 0)}))}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{fhSy:function(e,r,t){"use strict";t.r(r),t.d(r,"RegisterPageModule",(function(){return _}));var n=t("ofXK"),o=t("3Pt+"),i=t("TEn/"),a=t("tyNb"),s=t("MCRb"),c=t("IzEk"),b=t("fXoL");function l(e,r){if(1&e&&(b.Qb(0,"div",25),b.Mb(1,"ion-icon",26),b.tc(2),b.Pb()),2&e){var t=b.bc().$implicit;b.Ab(2),b.vc(" ",t.message," ")}}function u(e,r){if(1&e&&(b.Ob(0),b.sc(1,l,3,1,"div",19),b.Nb()),2&e){var t=r.$implicit,n=b.bc();b.Ab(1),b.hc("ngIf",n.registerForm.get("firstName").hasError(t.type)&&(n.registerForm.get("firstName").dirty||n.registerForm.get("firstName").touched))}}function d(e,r){if(1&e&&(b.Qb(0,"div",25),b.Mb(1,"ion-icon",26),b.tc(2),b.Pb()),2&e){var t=b.bc().$implicit;b.Ab(2),b.vc(" ",t.message," ")}}function g(e,r){if(1&e&&(b.Ob(0),b.sc(1,d,3,1,"div",19),b.Nb()),2&e){var t=r.$implicit,n=b.bc();b.Ab(1),b.hc("ngIf",n.registerForm.get("lastName").hasError(t.type)&&(n.registerForm.get("lastName").dirty||n.registerForm.get("lastName").touched))}}function p(e,r){if(1&e&&(b.Qb(0,"div",25),b.Mb(1,"ion-icon",26),b.tc(2),b.Pb()),2&e){var t=b.bc().$implicit;b.Ab(2),b.vc(" ",t.message," ")}}function m(e,r){if(1&e&&(b.Ob(0),b.sc(1,p,3,1,"div",19),b.Nb()),2&e){var t=r.$implicit,n=b.bc();b.Ab(1),b.hc("ngIf",n.registerForm.get("email").hasError(t.type)&&(n.registerForm.get("email").dirty||n.registerForm.get("email").touched))}}function f(e,r){if(1&e&&(b.Qb(0,"div",25),b.Mb(1,"ion-icon",26),b.tc(2),b.Pb()),2&e){var t=b.bc().$implicit;b.Ab(2),b.vc(" ",t.message," ")}}function h(e,r){if(1&e&&(b.Ob(0),b.sc(1,f,3,1,"div",19),b.Nb()),2&e){var t=r.$implicit,n=b.bc();b.Ab(1),b.hc("ngIf",n.registerForm.get("matchingPasswords").get("password").hasError(t.type)&&(n.registerForm.get("matchingPasswords").get("password").dirty||n.registerForm.get("matchingPasswords").get("password").touched))}}function v(e,r){if(1&e&&(b.Qb(0,"div",25),b.Mb(1,"ion-icon",26),b.tc(2),b.Pb()),2&e){var t=b.bc().$implicit;b.Ab(2),b.vc(" ",t.message," ")}}function P(e,r){if(1&e&&(b.Ob(0),b.sc(1,v,3,1,"div",19),b.Nb()),2&e){var t=r.$implicit,n=b.bc();b.Ab(1),b.hc("ngIf",n.registerForm.get("matchingPasswords").get("confirmPassword").hasError(t.type)&&(n.registerForm.get("matchingPasswords").get("confirmPassword").dirty||n.registerForm.get("matchingPasswords").get("confirmPassword").touched))}}function w(e,r){if(1&e&&(b.Qb(0,"div",25),b.Mb(1,"ion-icon",26),b.tc(2),b.Pb()),2&e){var t=b.bc().$implicit;b.Ab(2),b.vc(" ",t.message," ")}}function y(e,r){if(1&e&&(b.Ob(0),b.sc(1,w,3,1,"div",19),b.Nb()),2&e){var t=r.$implicit,n=b.bc();b.Ab(1),b.hc("ngIf",n.registerForm.get("matchingPasswords").hasError(t.type)&&(n.registerForm.get("matchingPasswords").get("confirmPassword").dirty||n.registerForm.get("matchingPasswords").get("confirmPassword").touched))}}function k(e,r){if(1&e&&(b.Qb(0,"div",25),b.Mb(1,"ion-icon",26),b.tc(2),b.Pb()),2&e){var t=b.bc();b.Ab(2),b.vc(" ",t.error," ")}}function M(e,r){if(1&e){var t=b.Rb();b.Qb(0,"ion-button",27),b.Yb("click",(function(){return b.oc(t),b.bc().openAppleSignIn()})),b.Mb(1,"ion-icon",28),b.tc(2," Sign in with Apple "),b.Pb()}}var C,Q,A,F=function(){return["/sign-in"]},N=[{path:"",component:(C=function(){function e(r,t,n,o,i){_classCallCheck(this,e),this.formBuilder=r,this.router=t,this.platform=n,this.zone=o,this.accountService=i,this.passwordType="password",this.hasError=!1,this.error="",this.showAppleSignIn=!1,this.validationMessages={email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Please enter a valid email."}],firstName:[{type:"required",message:"First name is required."}],lastName:[{type:"required",message:"Last name is required."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 5 characters long."},{type:"pattern",message:"Your password must contain an uppercase, lowercase, number, and character."}],confirmPassword:[{type:"required",message:"Confirm password is required."}],matchingPasswords:[{type:"areEqual",message:"Password mismatch."}]}}var r;return _createClass(e,[{key:"ngOnInit",value:function(){this.showAppleSignIn=this.platform.is("ios");var e=new o.b("",o.p.compose([o.p.required,o.p.pattern("[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,3}$")]));this.matchingPasswordsGroup=new o.d({password:new o.b("",o.p.compose([o.p.minLength(7),o.p.required,o.p.pattern("^(?=.*[0-9])(?=.*[!@#$%.^&*?])[a-zA-Z0-9!@#$%.^&*?]{7,25}$")])),confirmPassword:new o.b("",o.p.required)},(function(e){return function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"areEqual",value:function(e){var r,t=!0;for(var n in e.controls)if(e.controls.hasOwnProperty(n)){var o=e.controls[n];if(void 0===r)r=o.value;else if(r!==o.value){t=!1;break}}return t?null:{areEqual:!0}}}]),e}().areEqual(e)}));var r=new o.b("",o.p.required),t=new o.b("",o.p.required);this.registerForm=new o.d({firstName:r,lastName:t,email:e,matchingPasswords:this.matchingPasswordsGroup})}},{key:"togglePasswordMode",value:function(){this.passwordType="text"===this.passwordType?"password":"text"}},{key:"openAppleSignIn",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountService.loginApple().then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===t.firstLogin?(n={replaceUrl:!1,state:{firstName:t.firstName,lastName:t.lastName,email:t.email,password:"",sso:!0}},r.zone.run((function(){r.router.navigateByUrl("/post-register-about",n)}))):(o={replaceUrl:!1},r.zone.run((function(){r.router.navigateByUrl("/tab1",o)})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onSubmit",value:function(){var e=this;this.accountService.accountEmailTakenGet(this.registerForm.controls.email.value).pipe(Object(c.a)(1)).subscribe((function(r){if(!1===r){var t={replaceUrl:!1,state:{firstName:e.registerForm.controls.firstName.value,lastName:e.registerForm.controls.lastName.value,email:e.registerForm.controls.email.value,password:e.matchingPasswordsGroup.controls.password.value}};e.zone.run((function(){e.router.navigateByUrl("/post-register-about",t)}))}else e.hasError=!0,e.error="An account with this email is already registered."}),(function(r){console.log(r),e.hasError=!0,e.error="An unexpected error has occurred."}))}}]),e}(),C.\u0275fac=function(e){return new(e||C)(b.Lb(o.a),b.Lb(a.g),b.Lb(i.Y),b.Lb(b.z),b.Lb(s.a))},C.\u0275cmp=b.Fb({type:C,selectors:[["register"]],decls:55,vars:15,consts:[["no-bounce","",3,"scrollY"],[1,"splash"],[1,"ion-align-items-baseline"],[1,"ion-justify-content-start"],["defaultHref","/sign-in",2,"color","beige"],[1,"back-to-login"],["routerLinkActive","router-link-active",3,"routerLink"],[3,"formGroup","ngSubmit"],[1,"roundedInput"],["autocapitalize","true","placeholder","First Name*","type","text","formControlName","firstName","required",""],[1,"validation-errors"],[4,"ngFor","ngForOf"],["autocapitalize","true","placeholder","Last Name*","type","text","formControlName","lastName","required",""],["autocapitalize","true","placeholder","Email*","type","email","formControlName","email","required",""],["formGroupName","matchingPasswords"],["autocapitalize","true","placeholder","Password*","formControlName","password","required","",3,"type"],["name","eye","item-right","",3,"click"],[1,"roundedInput",2,"margin-top","10px"],["autocapitalize","true","placeholder","Confirm Password*","formControlName","confirmPassword","required","",3,"type"],["class","error-message",4,"ngIf"],[1,"button-div"],["expand","block","type","submit",1,"submit-button",3,"disabled"],["expand","block",1,"facebook-button"],["slot","start","name","logo-facebook"],["class","apple-button","expand","block",3,"click",4,"ngIf"],[1,"error-message"],["name","information-circle-outline"],["expand","block",1,"apple-button",3,"click"],["slot","start","name","logo-apple"]],template:function(e,r){1&e&&(b.Qb(0,"ion-content",0),b.Qb(1,"div",1),b.Qb(2,"ion-row",2),b.Qb(3,"ion-col",3),b.Qb(4,"ion-buttons"),b.Mb(5,"ion-back-button",4),b.Pb(),b.Pb(),b.Pb(),b.Qb(6,"h1"),b.tc(7,"Create Account"),b.Pb(),b.Qb(8,"p",5),b.tc(9," Already have an account? "),b.Qb(10,"a",6),b.tc(11,"Login instead"),b.Pb(),b.Pb(),b.Qb(12,"form",7),b.Yb("ngSubmit",(function(){return r.onSubmit()})),b.Qb(13,"ion-grid"),b.Qb(14,"ion-row"),b.Qb(15,"ion-col"),b.Qb(16,"ion-item",8),b.Mb(17,"ion-input",9),b.Qb(18,"div",10),b.sc(19,u,2,1,"ng-container",11),b.Pb(),b.Pb(),b.Pb(),b.Qb(20,"ion-col"),b.Qb(21,"ion-item",8),b.Mb(22,"ion-input",12),b.Qb(23,"div",10),b.sc(24,g,2,1,"ng-container",11),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(25,"ion-row"),b.Qb(26,"ion-col"),b.Qb(27,"ion-item",8),b.Mb(28,"ion-input",13),b.Qb(29,"div",10),b.sc(30,m,2,1,"ng-container",11),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(31,"ion-row"),b.Qb(32,"ion-col"),b.Qb(33,"div",14),b.Qb(34,"ion-item",8),b.Mb(35,"ion-input",15),b.Qb(36,"ion-icon",16),b.Yb("click",(function(){return r.togglePasswordMode()})),b.Pb(),b.Pb(),b.Qb(37,"div",10),b.sc(38,h,2,1,"ng-container",11),b.Pb(),b.Qb(39,"ion-item",17),b.Mb(40,"ion-input",18),b.Pb(),b.Qb(41,"div",10),b.sc(42,P,2,1,"ng-container",11),b.Pb(),b.Pb(),b.Qb(43,"div",10),b.sc(44,y,2,1,"ng-container",11),b.Pb(),b.Qb(45,"div",10),b.sc(46,k,3,1,"div",19),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(47,"div",20),b.Qb(48,"ion-button",21),b.tc(49,"Register"),b.Pb(),b.Pb(),b.Pb(),b.Qb(50,"div",20),b.Qb(51,"ion-button",22),b.Mb(52,"ion-icon",23),b.tc(53," Login with Facebook "),b.Pb(),b.sc(54,M,3,0,"ion-button",24),b.Pb(),b.Pb(),b.Pb()),2&e&&(b.hc("scrollY",!1),b.Ab(10),b.hc("routerLink",b.jc(14,F)),b.Ab(2),b.hc("formGroup",r.registerForm),b.Ab(7),b.hc("ngForOf",r.validationMessages.firstName),b.Ab(5),b.hc("ngForOf",r.validationMessages.lastName),b.Ab(6),b.hc("ngForOf",r.validationMessages.email),b.Ab(5),b.hc("type",r.passwordType),b.Ab(3),b.hc("ngForOf",r.validationMessages.password),b.Ab(2),b.hc("type",r.passwordType),b.Ab(2),b.hc("ngForOf",r.validationMessages.confirmPassword),b.Ab(2),b.hc("ngForOf",r.validationMessages.matchingPasswords),b.Ab(2),b.hc("ngIf",r.hasError),b.Ab(2),b.hc("disabled",!r.registerForm.valid),b.Ab(6),b.hc("ngIf",r.showAppleSignIn))},directives:[i.m,i.G,i.l,i.g,i.d,i.e,a.j,a.i,i.Z,o.q,o.l,o.e,i.r,i.x,i.w,i.bb,o.k,o.c,o.o,n.j,o.f,i.t,n.k,i.f],styles:["ion-content[_ngcontent-%COMP%]{--background:none}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:3%;text-align:center;font-size:40px;font-weight:700;margin:0;color:#fff}ion-header[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background:transparent}.close-icon[_ngcontent-%COMP%]{font-size:30px;color:#fff}.roundedInput[_ngcontent-%COMP%]{--border-radius:10px;--border-width:1px;--highlight-height:0;--background:#f8f9fa;padding-top:10px}.nameRow[_ngcontent-%COMP%]{padding-block:10%}.nameRow[_ngcontent-%COMP%]   .roundedInput[_ngcontent-%COMP%]{padding-block:0}.roundedInput.ion-invalid.item-has-focus[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger-shade)}.roundedInput.ion-valid.item-has-focus[_ngcontent-%COMP%]{--border-color:var(--ion-color-success-shade)}.roundedInput.ion-invalid.ion-dirty[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger-shade)}.roundedInput.ion-valid.ion-dirty[_ngcontent-%COMP%]{--border-color:var(--ion-color-success-shade)}.submit-button[_ngcontent-%COMP%]{--background:#fff;--background-activated:#fff;--ripple-color:#fff;--background-focused:#fff;--color-focused:#fff;color:#128c7e;--vertical-align:middle;padding-left:5%;padding-right:5%}.back-to-login[_ngcontent-%COMP%]{color:#fff;text-align:center}.back-to-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.button-div[_ngcontent-%COMP%]{padding-top:3%}ion-grid[_ngcontent-%COMP%]{padding-left:5%;padding-right:5%;padding-bottom:0}"]}),C)}],O=((A=function e(){_classCallCheck(this,e)}).\u0275mod=b.Jb({type:A}),A.\u0275inj=b.Ib({factory:function(e){return new(e||A)},imports:[[a.k.forChild(N)],a.k]}),A),_=((Q=function e(){_classCallCheck(this,e)}).\u0275mod=b.Jb({type:Q}),Q.\u0275inj=b.Ib({factory:function(e){return new(e||Q)},imports:[[n.c,o.g,i.S,o.n,O]]}),Q)}}]);