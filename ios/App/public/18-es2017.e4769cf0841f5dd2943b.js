(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"O/ay":function(i,o,n){"use strict";n.r(o),n.d(o,"NotificationsPageModule",(function(){return p}));var e=n("TEn/"),t=n("tyNb"),r=n("ofXK"),s=n("3Pt+"),c=n("IzEk"),b=n("MCRb"),a=n("fXoL"),d=n("e8h1"),g=n("6Kw5");function h(i,o){if(1&i&&(a.Qb(0,"ion-card"),a.Qb(1,"ion-grid",12),a.Qb(2,"ion-row",13),a.Qb(3,"ion-col"),a.Qb(4,"ion-row"),a.Qb(5,"ion-col"),a.Mb(6,"img",14),a.Pb(),a.Pb(),a.Qb(7,"ion-row"),a.Qb(8,"ion-col"),a.Mb(9,"img",15),a.Pb(),a.Pb(),a.Pb(),a.Qb(10,"ion-col",16),a.Qb(11,"ion-row"),a.Qb(12,"ion-col"),a.Qb(13,"p"),a.Qb(14,"strong"),a.tc(15),a.Pb(),a.tc(16),a.Pb(),a.Pb(),a.Pb(),a.Qb(17,"ion-row",17),a.Qb(18,"ion-col",18),a.Qb(19,"ion-note"),a.tc(20),a.cc(21,"dateAgo"),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&i){const i=o.$implicit;a.Ab(6),a.hc("src",i.userAvi,a.pc),a.Ab(3),a.hc("src",i.icon,a.pc),a.Ab(6),a.uc(i.name),a.Ab(1),a.wc(" ",i.verbage," ",1==i.isComment?'"'+i.comment+'"':""," "),a.Ab(4),a.uc(a.dc(21,6,i.time))}}let m=(()=>{class i{constructor(i,o,n,e,t,r,s){this.storage=i,this.router=o,this.zone=n,this.userService=e,this.accountService=t,this.loadingController=r,this.cd=s,this.notifications=[],this.commentIcon="../../../assets/UI/comment-icon.svg",this.likeIcon="../../../assets/UI/liked-icon.svg",this.commentVerbage="commented on your post",this.likeVerbage="liked your post",this.userId="",this.userId=this.accountService.getUserId()}async ionViewDidEnter(){const i=await this.loadingController.create();await i.present(),await this.refreshNotifications(i).then(()=>{this.cd.detectChanges()}),i.dismiss()}refreshNotifications(i){return this.notifications=[],new Promise(o=>{this.userService.userNotificationsGet().pipe(Object(c.a)(1)).subscribe(async n=>{n.forEach(i=>{const o=""!==i.comment;this.notifications.push({name:`${i.userWhoPerformedAction.firstName} ${i.userWhoPerformedAction.lastName}`,icon:o?this.commentIcon:this.likeIcon,verbage:o?this.commentVerbage:this.likeVerbage,isComment:o,comment:i.comment,time:i.date,postId:i.fkPostId,userAvi:i.userWhoPerformedAction.avi})}),void 0!==i.target&&i.target.complete(),o("done")})})}}return i.\u0275fac=function(o){return new(o||i)(a.Lb(d.b),a.Lb(t.g),a.Lb(a.z),a.Lb(b.c),a.Lb(b.a),a.Lb(e.U),a.Lb(a.h))},i.\u0275cmp=a.Fb({type:i,selectors:[["notifications"]],decls:13,vars:2,consts:[[1,"ion-no-border",2,"background-color","#128C7E"],["color","#128C7E",1,"ion-no-border"],[1,"header-grid"],[1,"ion-align-items-baseline"],[1,"ion-justify-content-start"],["defaultHref","/tab1",2,"color","white"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["refresherRef",""],["pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refreshing..."],[1,"notifications-list"],[4,"ngFor","ngForOf"],[1,"comments-grid"],[2,"padding-left","8px","padding-top","8px"],[1,"user-pic","img-center",3,"src"],[3,"src"],["size","2.5"],[1,"ion-align-items-end"],[1,"ion-align-self-end"]],template:function(i,o){1&i&&(a.Qb(0,"ion-header",0),a.Qb(1,"ion-toolbar",1),a.Qb(2,"ion-grid",2),a.Qb(3,"ion-row",3),a.Qb(4,"ion-col",4),a.Qb(5,"ion-buttons"),a.Mb(6,"ion-back-button",5),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Qb(7,"ion-content",6),a.Qb(8,"ion-refresher",7,8),a.Yb("ionRefresh",(function(i){return o.refreshNotifications(i)})),a.Mb(10,"ion-refresher-content",9),a.Pb(),a.Qb(11,"ion-list",10),a.sc(12,h,22,8,"ion-card",11),a.Pb(),a.Pb()),2&i&&(a.Ab(7),a.hc("fullscreen",!0),a.Ab(5),a.hc("ngForOf",o.notifications))},directives:[e.s,e.Q,e.r,e.G,e.l,e.g,e.d,e.e,e.m,e.D,e.E,e.B,r.j,e.h,e.C],pipes:[g.a],styles:[".user-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}p[_ngcontent-%COMP%]{margin:0;padding-top:6px;padding-right:2px;padding-bottom:12px}ion-content[_ngcontent-%COMP%]{--padding-top:10%}.comments-grid[_ngcontent-%COMP%]{--ion-grid-columns:3;--ion-grid-column-padding:1px;--ion-grid-padding:1px}ion-card[_ngcontent-%COMP%]{margin-bottom:10px!important;margin-top:4px!important}"]}),i})();var l=n("PCNd");let p=(()=>{class i{}return i.\u0275mod=a.Jb({type:i}),i.\u0275inj=a.Ib({factory:function(o){return new(o||i)},imports:[[e.S,r.c,s.g,l.a,t.k.forChild([{path:"",component:m}])]]}),i})()}}]);