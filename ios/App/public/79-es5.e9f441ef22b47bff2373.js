function asyncGeneratorStep(e,n,t,o,c,i,r){try{var s=e[i](r),a=s.value}catch(u){return void t(u)}s.done?n(a):Promise.resolve(a).then(o,c)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(o,c){var i=e.apply(n,t);function r(e){asyncGeneratorStep(i,o,c,r,s,"next",e)}function s(e){asyncGeneratorStep(i,o,c,r,s,"throw",e)}r(void 0)}))}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{"O/ay":function(e,n,t){"use strict";t.r(n),t.d(n,"NotificationsPageModule",(function(){return p}));var o=t("TEn/"),c=t("tyNb"),i=t("ofXK"),r=t("3Pt+"),s=t("IzEk"),a=t("MCRb"),u=t("fXoL"),g=t("e8h1"),h=t("6Kw5");function f(e,n){if(1&e&&(u.hc(0,"ion-card"),u.hc(1,"ion-grid",12),u.hc(2,"ion-row",13),u.hc(3,"ion-col"),u.hc(4,"ion-row"),u.hc(5,"ion-col"),u.dc(6,"img",14),u.gc(),u.gc(),u.hc(7,"ion-row"),u.hc(8,"ion-col"),u.dc(9,"img",15),u.gc(),u.gc(),u.gc(),u.hc(10,"ion-col",16),u.hc(11,"ion-row"),u.hc(12,"ion-col"),u.hc(13,"p"),u.hc(14,"strong"),u.Kc(15),u.gc(),u.Kc(16),u.gc(),u.gc(),u.gc(),u.hc(17,"ion-row",17),u.hc(18,"ion-col",18),u.hc(19,"ion-note"),u.Kc(20),u.tc(21,"dateAgo"),u.gc(),u.gc(),u.gc(),u.gc(),u.gc(),u.gc(),u.gc()),2&e){var t=n.$implicit;u.Rb(6),u.yc("src",t.userAvi,u.Gc),u.Rb(3),u.yc("src",t.icon,u.Gc),u.Rb(6),u.Lc(t.name),u.Rb(1),u.Nc(" ",t.verbage," ",1==t.isComment?'"'+t.comment+'"':""," "),u.Rb(4),u.Lc(u.uc(21,6,t.time))}}var d=function(){function e(n,t,o,c,i,r,s){_classCallCheck(this,e),this.storage=n,this.router=t,this.zone=o,this.userService=c,this.accountService=i,this.loadingController=r,this.cd=s,this.notifications=[],this.commentIcon="../../../assets/UI/comment-icon.svg",this.likeIcon="../../../assets/UI/liked-icon.svg",this.commentVerbage="commented on your post",this.likeVerbage="liked your post",this.userId="",this.userId=this.accountService.getUserId()}var n;return _createClass(e,[{key:"ionViewDidEnter",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(){var n,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create();case 2:return n=e.sent,e.next=5,n.present();case 5:return e.next=7,this.refreshNotifications(n).then((function(){t.cd.detectChanges()}));case 7:n.dismiss();case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"refreshNotifications",value:function(e){var n=this;return this.notifications=[],new Promise((function(t){n.userService.userNotificationsGet().pipe(Object(s.a)(1)).subscribe(function(){var o=_asyncToGenerator(regeneratorRuntime.mark((function o(c){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:c.forEach((function(e){var t=""!==e.comment;n.notifications.push({name:"".concat(e.userWhoPerformedAction.firstName," ").concat(e.userWhoPerformedAction.lastName),icon:t?n.commentIcon:n.likeIcon,verbage:t?n.commentVerbage:n.likeVerbage,isComment:t,comment:e.comment,time:e.date,postId:e.fkPostId,userAvi:e.userWhoPerformedAction.avi})})),void 0!==e.target&&e.target.complete(),t("done");case 1:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())}))}}]),e}();d.\u0275fac=function(e){return new(e||d)(u.cc(g.b),u.cc(c.g),u.cc(u.L),u.cc(a.c),u.cc(a.a),u.cc(o.U),u.cc(u.j))},d.\u0275cmp=u.Wb({type:d,selectors:[["notifications"]],decls:13,vars:2,consts:[[1,"ion-no-border",2,"background-color","#128C7E"],["color","#128C7E",1,"ion-no-border"],[1,"header-grid"],[1,"ion-align-items-baseline"],[1,"ion-justify-content-start"],["defaultHref","/tab1",2,"color","white"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["refresherRef",""],["pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refreshing..."],[1,"notifications-list"],[4,"ngFor","ngForOf"],[1,"comments-grid"],[2,"padding-left","8px","padding-top","8px"],[1,"user-pic","img-center",3,"src"],[3,"src"],["size","2.5"],[1,"ion-align-items-end"],[1,"ion-align-self-end"]],template:function(e,n){1&e&&(u.hc(0,"ion-header",0),u.hc(1,"ion-toolbar",1),u.hc(2,"ion-grid",2),u.hc(3,"ion-row",3),u.hc(4,"ion-col",4),u.hc(5,"ion-buttons"),u.dc(6,"ion-back-button",5),u.gc(),u.gc(),u.gc(),u.gc(),u.gc(),u.gc(),u.hc(7,"ion-content",6),u.hc(8,"ion-refresher",7,8),u.pc("ionRefresh",(function(e){return n.refreshNotifications(e)})),u.dc(10,"ion-refresher-content",9),u.gc(),u.hc(11,"ion-list",10),u.Jc(12,f,22,8,"ion-card",11),u.gc(),u.gc()),2&e&&(u.Rb(7),u.yc("fullscreen",!0),u.Rb(5),u.yc("ngForOf",n.notifications))},directives:[o.s,o.Q,o.r,o.G,o.l,o.g,o.d,o.e,o.m,o.D,o.E,o.B,i.j,o.h,o.C],pipes:[h.a],styles:[".user-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}p[_ngcontent-%COMP%]{margin:0;padding-top:6px;padding-right:2px;padding-bottom:12px}ion-content[_ngcontent-%COMP%]{--padding-top:10%}.comments-grid[_ngcontent-%COMP%]{--ion-grid-columns:3;--ion-grid-column-padding:1px;--ion-grid-padding:1px}ion-card[_ngcontent-%COMP%]{margin-bottom:10px!important;margin-top:4px!important}"]});var l=t("PCNd"),p=function e(){_classCallCheck(this,e)};p.\u0275mod=u.ac({type:p}),p.\u0275inj=u.Zb({factory:function(e){return new(e||p)},imports:[[o.S,i.c,r.g,l.a,c.k.forChild([{path:"",component:d}])]]})}}]);