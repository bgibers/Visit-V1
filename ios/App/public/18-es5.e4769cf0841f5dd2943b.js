function asyncGeneratorStep(e,n,t,o,i,r,c){try{var s=e[r](c),a=s.value}catch(b){return void t(b)}s.done?n(a):Promise.resolve(a).then(o,i)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var r=e.apply(n,t);function c(e){asyncGeneratorStep(r,o,i,c,s,"next",e)}function s(e){asyncGeneratorStep(r,o,i,c,s,"throw",e)}c(void 0)}))}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"O/ay":function(e,n,t){"use strict";t.r(n),t.d(n,"NotificationsPageModule",(function(){return g}));var o=t("TEn/"),i=t("tyNb"),r=t("ofXK"),c=t("3Pt+"),s=t("IzEk"),a=t("MCRb"),b=t("fXoL"),u=t("e8h1"),f=t("6Kw5");function d(e,n){if(1&e&&(b.Qb(0,"ion-card"),b.Qb(1,"ion-grid",12),b.Qb(2,"ion-row",13),b.Qb(3,"ion-col"),b.Qb(4,"ion-row"),b.Qb(5,"ion-col"),b.Mb(6,"img",14),b.Pb(),b.Pb(),b.Qb(7,"ion-row"),b.Qb(8,"ion-col"),b.Mb(9,"img",15),b.Pb(),b.Pb(),b.Pb(),b.Qb(10,"ion-col",16),b.Qb(11,"ion-row"),b.Qb(12,"ion-col"),b.Qb(13,"p"),b.Qb(14,"strong"),b.tc(15),b.Pb(),b.tc(16),b.Pb(),b.Pb(),b.Pb(),b.Qb(17,"ion-row",17),b.Qb(18,"ion-col",18),b.Qb(19,"ion-note"),b.tc(20),b.cc(21,"dateAgo"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb()),2&e){var t=n.$implicit;b.Ab(6),b.hc("src",t.userAvi,b.pc),b.Ab(3),b.hc("src",t.icon,b.pc),b.Ab(6),b.uc(t.name),b.Ab(1),b.wc(" ",t.verbage," ",1==t.isComment?'"'+t.comment+'"':""," "),b.Ab(4),b.uc(b.dc(21,6,t.time))}}var l,p,h=((l=function(){function e(n,t,o,i,r,c,s){_classCallCheck(this,e),this.storage=n,this.router=t,this.zone=o,this.userService=i,this.accountService=r,this.loadingController=c,this.cd=s,this.notifications=[],this.commentIcon="../../../assets/UI/comment-icon.svg",this.likeIcon="../../../assets/UI/liked-icon.svg",this.commentVerbage="commented on your post",this.likeVerbage="liked your post",this.userId="",this.userId=this.accountService.getUserId()}var n;return _createClass(e,[{key:"ionViewDidEnter",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(){var n,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create();case 2:return n=e.sent,e.next=5,n.present();case 5:return e.next=7,this.refreshNotifications(n).then((function(){t.cd.detectChanges()}));case 7:n.dismiss();case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"refreshNotifications",value:function(e){var n=this;return this.notifications=[],new Promise((function(t){n.userService.userNotificationsGet().pipe(Object(s.a)(1)).subscribe(function(){var o=_asyncToGenerator(regeneratorRuntime.mark((function o(i){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:i.forEach((function(e){var t=""!==e.comment;n.notifications.push({name:"".concat(e.userWhoPerformedAction.firstName," ").concat(e.userWhoPerformedAction.lastName),icon:t?n.commentIcon:n.likeIcon,verbage:t?n.commentVerbage:n.likeVerbage,isComment:t,comment:e.comment,time:e.date,postId:e.fkPostId,userAvi:e.userWhoPerformedAction.avi})})),void 0!==e.target&&e.target.complete(),t("done");case 1:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())}))}}]),e}()).\u0275fac=function(e){return new(e||l)(b.Lb(u.b),b.Lb(i.g),b.Lb(b.z),b.Lb(a.c),b.Lb(a.a),b.Lb(o.U),b.Lb(b.h))},l.\u0275cmp=b.Fb({type:l,selectors:[["notifications"]],decls:13,vars:2,consts:[[1,"ion-no-border",2,"background-color","#128C7E"],["color","#128C7E",1,"ion-no-border"],[1,"header-grid"],[1,"ion-align-items-baseline"],[1,"ion-justify-content-start"],["defaultHref","/tab1",2,"color","white"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["refresherRef",""],["pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refreshing..."],[1,"notifications-list"],[4,"ngFor","ngForOf"],[1,"comments-grid"],[2,"padding-left","8px","padding-top","8px"],[1,"user-pic","img-center",3,"src"],[3,"src"],["size","2.5"],[1,"ion-align-items-end"],[1,"ion-align-self-end"]],template:function(e,n){1&e&&(b.Qb(0,"ion-header",0),b.Qb(1,"ion-toolbar",1),b.Qb(2,"ion-grid",2),b.Qb(3,"ion-row",3),b.Qb(4,"ion-col",4),b.Qb(5,"ion-buttons"),b.Mb(6,"ion-back-button",5),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(7,"ion-content",6),b.Qb(8,"ion-refresher",7,8),b.Yb("ionRefresh",(function(e){return n.refreshNotifications(e)})),b.Mb(10,"ion-refresher-content",9),b.Pb(),b.Qb(11,"ion-list",10),b.sc(12,d,22,8,"ion-card",11),b.Pb(),b.Pb()),2&e&&(b.Ab(7),b.hc("fullscreen",!0),b.Ab(5),b.hc("ngForOf",n.notifications))},directives:[o.s,o.Q,o.r,o.G,o.l,o.g,o.d,o.e,o.m,o.D,o.E,o.B,r.j,o.h,o.C],pipes:[f.a],styles:[".user-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}p[_ngcontent-%COMP%]{margin:0;padding-top:6px;padding-right:2px;padding-bottom:12px}ion-content[_ngcontent-%COMP%]{--padding-top:10%}.comments-grid[_ngcontent-%COMP%]{--ion-grid-columns:3;--ion-grid-column-padding:1px;--ion-grid-padding:1px}ion-card[_ngcontent-%COMP%]{margin-bottom:10px!important;margin-top:4px!important}"]}),l),m=t("PCNd"),g=((p=function e(){_classCallCheck(this,e)}).\u0275mod=b.Jb({type:p}),p.\u0275inj=b.Ib({factory:function(e){return new(e||p)},imports:[[o.S,r.c,c.g,m.a,i.k.forChild([{path:"",component:h}])]]}),p)}}]);