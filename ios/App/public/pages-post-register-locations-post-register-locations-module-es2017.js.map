{"version":3,"sources":["./src/app/pages/post-register-locations/post-register-locations-routing.module.ts","./src/app/pages/post-register-locations/post-register-locations.module.ts","./src/app/pages/post-register-locations/post-register-locations.page.ts","./src/app/pages/post-register-locations/post-register-locations.page.html"],"names":[],"mappings":"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","file":"pages-post-register-locations-post-register-locations-module-es2017.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PostRegisterLocationsPage } from './post-register-locations.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PostRegisterLocationsPage,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PostRegisterLocationsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PostRegisterLocationsPageRoutingModule } from './post-register-locations-routing.module';\r\n\r\nimport { PostRegisterLocationsPage } from './post-register-locations.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PostRegisterLocationsPageRoutingModule,\r\n  ],\r\n  declarations: [PostRegisterLocationsPage],\r\n})\r\nexport class PostRegisterLocationsPageModule {}\r\n","import { Component, OnInit, NgZone, AfterViewInit } from '@angular/core';\nimport { Map } from '../../objects/map';\nimport { MapSelectionMode } from 'src/app/objects/enums/map-selection-mode';\nimport { NavigationExtras, Router, ActivatedRoute } from '@angular/router';\nimport { JwtToken, AccountsService } from 'src/app/backend/clients';\nimport { MarkLocationsRequest } from 'src/app/backend/clients/model/markLocationsRequest';\nimport { take } from 'rxjs/operators';\n\n@Component({\n  selector: 'post-register-locations',\n  templateUrl: './post-register-locations.page.html',\n  styleUrls: ['./post-register-locations.page.scss'],\n})\nexport class PostRegisterLocationsPage {\n  public selectionMode: MapSelectionMode = MapSelectionMode.VISITED;\n  public titleTextVisited = 'Where have you visited?';\n  public titleTextToVisit = 'Bucketlist';\n  public subtitleTextVisited = `We'll get to where you want to go in a moment,\n  but first let\\'s show your friends (and yourself) where you've been!`;\n  public subtitleTextToVisit = `Mark down every and any place you find interesting and want to checkout someday, let's make it happen!`;\n  public displayVisitedText = true;\n  public token: JwtToken;\n  public locationRequest = {\n    locations: {},\n    registration: true\n  } as MarkLocationsRequest;\n  private map: Map;\n  hasError = false;\n  error = '';\n\n  constructor(\n    public router: Router,\n    private accountService: AccountsService,\n    private zone: NgZone,\n    private route: ActivatedRoute\n  ) {}\n\n  ionViewWillEnter() {\n    this.map = new Map(this.zone);\n    this.map.addMapToDiv(this.selectionMode, 'register-map');\n  }\n\n  ionViewDidLeave() {\n    this.map.destroyMap();\n  }\n\n  switchMode() {\n    this.map.zoomHome();\n    if (this.selectionMode === MapSelectionMode.VISITED) {\n      this.map.setSelectionMode(MapSelectionMode.TO_VISIT);\n      this.displayVisitedText = false;\n      this.selectionMode = MapSelectionMode.TO_VISIT;\n    } else {\n      this.map.setSelectionMode(MapSelectionMode.VISITED);\n      this.displayVisitedText = true;\n      this.selectionMode = MapSelectionMode.VISITED;\n    }\n  }\n\n  mapLocationsToRequest() {\n    this.map.selectedArr.forEach((location) => {\n      this.locationRequest.locations[location.locationId] = location.status;\n    });\n  }\n\n  onSubmit() {\n    this.mapLocationsToRequest();\n    this.accountService\n      .accountUpdateLocationsPost(this.locationRequest)\n      .pipe(take(1))\n      .subscribe(\n        (res) => {\n          const navigationExtras: NavigationExtras = {\n            replaceUrl: false\n          };\n          this.zone.run(() => {\n            this.router.navigateByUrl('/tab1', navigationExtras);\n          });\n        },\n        (error) => {\n          this.hasError = true;\n          this.error = 'An unexpected error has occurred.';\n        }\n      );\n  }\n}\n","<ion-content no-bounce>\r\n  <div class=\"splash\">\r\n    <ion-row class=\"ion-align-items-baseline\">\r\n      <ion-col class=\"ion-justify-content-start\">\r\n        <ion-buttons>\r\n          <ion-back-button defaultHref=\"/post-register-about\"  style=\"color: beige;\"></ion-back-button>\r\n        </ion-buttons>\r\n      </ion-col>  \r\n    </ion-row> \r\n    <h1>{{displayVisitedText ? titleTextVisited : titleTextToVisit}}</h1>\r\n    <h3>{{displayVisitedText ? subtitleTextVisited : subtitleTextToVisit}}</h3>\r\n    <h4>\r\n      Click a location on the map to zoom to it. Double click the location to\r\n      select/deselect it.\r\n    </h4>\r\n    <div id=\"register-map\" class=\"chartdiv\"></div>\r\n    <div class=\"button-div\">\r\n      <ion-button\r\n        *ngIf=\"displayVisitedText\"\r\n        class=\"submit-button\"\r\n        expand=\"block\"\r\n        type=\"submit\"\r\n        (click)=\"switchMode()\"\r\n        >Next</ion-button\r\n      >\r\n      <ion-button\r\n        *ngIf=\"!displayVisitedText\"\r\n        class=\"submit-button\"\r\n        expand=\"block\"\r\n        type=\"submit\"\r\n        (click)=\"switchMode()\"\r\n        >Back</ion-button\r\n      >\r\n      <ion-button\r\n        *ngIf=\"!displayVisitedText\"\r\n        class=\"submit-button\"\r\n        expand=\"block\"\r\n        type=\"submit\"\r\n        (click)=\"onSubmit()\"\r\n        >I'm Done!</ion-button\r\n      >\r\n    </div>\r\n  </div>\r\n</ion-content>\r\n"],"sourceRoot":"webpack:///"}