{"version":3,"sources":["./node_modules/@capacitor-community/apple-sign-in/dist/esm/web.js","./node_modules/@capacitor/camera/dist/esm/web.js","./node_modules/@capacitor/splash-screen/dist/esm/web.js","./node_modules/scriptjs/dist/script.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4C;AACR;AAC7B,iCAAiC,yDAAS;AACjD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,yBAAyB;AACzB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,oBAAoB,4CAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,+B;;;;;;;;;;;;ACxEA;AAAA;AAAA;AAAA;AAAA;AAAgE;AACF;AACvD,wBAAwB,yDAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,kEAAkB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,yDAAY;AAC3C,+BAA+B,yDAAY;AAC3C;AACA;AACA,uCAAuC,4DAAe;AACtD;AACA;AACA,uCAAuC,4DAAe;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACkB;AAClB,+B;;;;;;;;;;;;ACpKA;AAAA;AAAA;AAA4C;AACrC,8BAA8B,yDAAS;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+B;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM,KAA4B;AAClC,WAAW,IAAyC,EAAE,oCAAO,UAAU;AAAA;AAAA;AAAA;AAAA,oGAAC;AACxE,OAAO,EAAyB;AAChC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC,OAAO;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,6EAA6E,sBAAsB;AACnG;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,iCAAiC,iBAAiB;AACvD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC","file":"web-es2017.js","sourcesContent":["import { WebPlugin } from '@capacitor/core';\nimport * as $script from 'scriptjs';\nexport class SignInWithAppleWeb extends WebPlugin {\n    constructor() {\n        super({\n            name: 'SignInWithApple',\n            platforms: ['web'],\n        });\n        this.appleScriptUrl = 'https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js';\n        this.isAppleScriptLoaded = false;\n    }\n    async authorize(options) {\n        return new Promise((resolve, reject) => {\n            if (options) {\n                this.loadSignInWithAppleJS().then(loaded => {\n                    var _a, _b, _c;\n                    this.isAppleScriptLoaded = loaded;\n                    if (this.isAppleScriptLoaded) {\n                        AppleID.auth.init({\n                            clientId: options.clientId,\n                            redirectURI: options.redirectURI,\n                            scope: (_a = options.scopes) !== null && _a !== void 0 ? _a : undefined,\n                            state: (_b = options.state) !== null && _b !== void 0 ? _b : undefined,\n                            nonce: (_c = options.nonce) !== null && _c !== void 0 ? _c : undefined,\n                            usePopup: true,\n                        });\n                        AppleID.auth\n                            .signIn()\n                            .then((res) => {\n                            var _a, _b, _c;\n                            const response = {\n                                response: {\n                                    user: null,\n                                    email: (_a = res.user) === null || _a === void 0 ? void 0 : _a.email,\n                                    givenName: (_b = res.user) === null || _b === void 0 ? void 0 : _b.name.firstName,\n                                    familyName: (_c = res.user) === null || _c === void 0 ? void 0 : _c.name.lastName,\n                                    identityToken: res.authorization.id_token,\n                                    authorizationCode: res.authorization.code,\n                                },\n                            };\n                            resolve(response);\n                        })\n                            .catch((err) => {\n                            reject(err);\n                        });\n                    }\n                    else {\n                        reject('Unable to load Sign in with Apple JS framework.');\n                    }\n                });\n            }\n            else {\n                reject('No options were provided.');\n            }\n        });\n    }\n    loadSignInWithAppleJS() {\n        return new Promise(resolve => {\n            if (!this.isAppleScriptLoaded) {\n                if (typeof window !== undefined) {\n                    $script.get(this.appleScriptUrl, () => resolve(true));\n                }\n                else {\n                    resolve(false);\n                }\n            }\n            else {\n                resolve(true);\n            }\n        });\n    }\n}\n//# sourceMappingURL=web.js.map","import { WebPlugin, CapacitorException } from '@capacitor/core';\nimport { CameraSource, CameraDirection } from './definitions';\nexport class CameraWeb extends WebPlugin {\n    async getPhoto(options) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve, reject) => {\n            if (options.webUseInput) {\n                this.fileInputExperience(options, resolve);\n            }\n            else {\n                if (customElements.get('pwa-camera-modal')) {\n                    const cameraModal = document.createElement('pwa-camera-modal');\n                    document.body.appendChild(cameraModal);\n                    try {\n                        await cameraModal.componentOnReady();\n                        cameraModal.addEventListener('onPhoto', async (e) => {\n                            const photo = e.detail;\n                            if (photo === null) {\n                                reject(new CapacitorException('User cancelled photos app'));\n                            }\n                            else if (photo instanceof Error) {\n                                reject(photo);\n                            }\n                            else {\n                                resolve(await this._getCameraPhoto(photo, options));\n                            }\n                            cameraModal.dismiss();\n                            document.body.removeChild(cameraModal);\n                        });\n                        cameraModal.present();\n                    }\n                    catch (e) {\n                        this.fileInputExperience(options, resolve);\n                    }\n                }\n                else {\n                    console.error(`Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/pwa-elements.`);\n                    this.fileInputExperience(options, resolve);\n                }\n            }\n        });\n    }\n    fileInputExperience(options, resolve) {\n        let input = document.querySelector('#_capacitor-camera-input');\n        const cleanup = () => {\n            var _a;\n            (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n        };\n        if (!input) {\n            input = document.createElement('input');\n            input.id = '_capacitor-camera-input';\n            input.type = 'file';\n            document.body.appendChild(input);\n        }\n        input.accept = 'image/*';\n        input.capture = true;\n        if (options.source === CameraSource.Photos ||\n            options.source === CameraSource.Prompt) {\n            input.removeAttribute('capture');\n        }\n        else if (options.direction === CameraDirection.Front) {\n            input.capture = 'user';\n        }\n        else if (options.direction === CameraDirection.Rear) {\n            input.capture = 'environment';\n        }\n        input.addEventListener('change', (_e) => {\n            const file = input.files[0];\n            let format = 'jpeg';\n            if (file.type === 'image/png') {\n                format = 'png';\n            }\n            else if (file.type === 'image/gif') {\n                format = 'gif';\n            }\n            if (options.resultType === 'dataUrl' || options.resultType === 'base64') {\n                const reader = new FileReader();\n                reader.addEventListener('load', () => {\n                    if (options.resultType === 'dataUrl') {\n                        resolve({\n                            dataUrl: reader.result,\n                            format,\n                        });\n                    }\n                    else if (options.resultType === 'base64') {\n                        const b64 = reader.result.split(',')[1];\n                        resolve({\n                            base64String: b64,\n                            format,\n                        });\n                    }\n                    cleanup();\n                });\n                reader.readAsDataURL(file);\n            }\n            else {\n                resolve({\n                    webPath: URL.createObjectURL(file),\n                    format: format,\n                });\n                cleanup();\n            }\n        });\n        input.click();\n    }\n    _getCameraPhoto(photo, options) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            const format = photo.type.split('/')[1];\n            if (options.resultType === 'uri') {\n                resolve({\n                    webPath: URL.createObjectURL(photo),\n                    format: format,\n                });\n            }\n            else {\n                reader.readAsDataURL(photo);\n                reader.onloadend = () => {\n                    const r = reader.result;\n                    if (options.resultType === 'dataUrl') {\n                        resolve({\n                            dataUrl: r,\n                            format: format,\n                        });\n                    }\n                    else {\n                        resolve({\n                            base64String: r.split(',')[1],\n                            format: format,\n                        });\n                    }\n                };\n                reader.onerror = e => {\n                    reject(e);\n                };\n            }\n        });\n    }\n    async checkPermissions() {\n        if (typeof navigator === 'undefined' || !navigator.permissions) {\n            throw this.unavailable('Permissions API not available in this browser');\n        }\n        try {\n            // https://developer.mozilla.org/en-US/docs/Web/API/Permissions/query\n            // the specific permissions that are supported varies among browsers that implement the\n            // permissions API, so we need a try/catch in case 'camera' is invalid\n            const permission = await window.navigator.permissions.query({\n                name: 'camera',\n            });\n            return {\n                camera: permission.state,\n                photos: 'granted',\n            };\n        }\n        catch (_a) {\n            throw this.unavailable('Camera permissions are not available in this browser');\n        }\n    }\n    async requestPermissions() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n}\nconst Camera = new CameraWeb();\nexport { Camera };\n//# sourceMappingURL=web.js.map","import { WebPlugin } from '@capacitor/core';\nexport class SplashScreenWeb extends WebPlugin {\n    async show(_options) {\n        return undefined;\n    }\n    async hide(_options) {\n        return undefined;\n    }\n}\n//# sourceMappingURL=web.js.map","/*!\n  * $script.js JS loader & dependency manager\n  * https://github.com/ded/script.js\n  * (c) Dustin Diaz 2014 | License MIT\n  */\n\n(function (name, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else this[name] = definition()\n})('$script', function () {\n  var doc = document\n    , head = doc.getElementsByTagName('head')[0]\n    , s = 'string'\n    , f = false\n    , push = 'push'\n    , readyState = 'readyState'\n    , onreadystatechange = 'onreadystatechange'\n    , list = {}\n    , ids = {}\n    , delay = {}\n    , scripts = {}\n    , scriptpath\n    , urlArgs\n\n  function every(ar, fn) {\n    for (var i = 0, j = ar.length; i < j; ++i) if (!fn(ar[i])) return f\n    return 1\n  }\n  function each(ar, fn) {\n    every(ar, function (el) {\n      fn(el)\n      return 1\n    })\n  }\n\n  function $script(paths, idOrDone, optDone) {\n    paths = paths[push] ? paths : [paths]\n    var idOrDoneIsDone = idOrDone && idOrDone.call\n      , done = idOrDoneIsDone ? idOrDone : optDone\n      , id = idOrDoneIsDone ? paths.join('') : idOrDone\n      , queue = paths.length\n    function loopFn(item) {\n      return item.call ? item() : list[item]\n    }\n    function callback() {\n      if (!--queue) {\n        list[id] = 1\n        done && done()\n        for (var dset in delay) {\n          every(dset.split('|'), loopFn) && !each(delay[dset], loopFn) && (delay[dset] = [])\n        }\n      }\n    }\n    setTimeout(function () {\n      each(paths, function loading(path, force) {\n        if (path === null) return callback()\n        \n        if (!force && !/^https?:\\/\\//.test(path) && scriptpath) {\n          path = (path.indexOf('.js') === -1) ? scriptpath + path + '.js' : scriptpath + path;\n        }\n        \n        if (scripts[path]) {\n          if (id) ids[id] = 1\n          return (scripts[path] == 2) ? callback() : setTimeout(function () { loading(path, true) }, 0)\n        }\n\n        scripts[path] = 1\n        if (id) ids[id] = 1\n        create(path, callback)\n      })\n    }, 0)\n    return $script\n  }\n\n  function create(path, fn) {\n    var el = doc.createElement('script'), loaded\n    el.onload = el.onerror = el[onreadystatechange] = function () {\n      if ((el[readyState] && !(/^c|loade/.test(el[readyState]))) || loaded) return;\n      el.onload = el[onreadystatechange] = null\n      loaded = 1\n      scripts[path] = 2\n      fn()\n    }\n    el.async = 1\n    el.src = urlArgs ? path + (path.indexOf('?') === -1 ? '?' : '&') + urlArgs : path;\n    head.insertBefore(el, head.lastChild)\n  }\n\n  $script.get = create\n\n  $script.order = function (scripts, id, done) {\n    (function callback(s) {\n      s = scripts.shift()\n      !scripts.length ? $script(s, id, done) : $script(s, callback)\n    }())\n  }\n\n  $script.path = function (p) {\n    scriptpath = p\n  }\n  $script.urlArgs = function (str) {\n    urlArgs = str;\n  }\n  $script.ready = function (deps, ready, req) {\n    deps = deps[push] ? deps : [deps]\n    var missing = [];\n    !each(deps, function (dep) {\n      list[dep] || missing[push](dep);\n    }) && every(deps, function (dep) {return list[dep]}) ?\n      ready() : !function (key) {\n      delay[key] = delay[key] || []\n      delay[key][push](ready)\n      req && req(missing)\n    }(deps.join('|'))\n    return $script\n  }\n\n  $script.done = function (idOrDone) {\n    $script([null], idOrDone)\n  }\n\n  return $script\n});\n"],"sourceRoot":"webpack:///"}