function asyncGeneratorStep(t,e,n,i,o,c,s){try{var a=t[c](s),r=a.value}catch(u){return void n(u)}a.done?e(r):Promise.resolve(r).then(i,o)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var c=t.apply(e,n);function s(t){asyncGeneratorStep(c,i,o,s,a,"next",t)}function a(t){asyncGeneratorStep(c,i,o,s,a,"throw",t)}s(void 0)}))}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{T60g:function(t,e,n){"use strict";n.r(e),n.d(e,"PostRegisterLocationsPageModule",(function(){return v}));var i=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),s=n("tyNb"),a=n("KFg1"),r=n("iBXB"),u=n("MCRb"),l=n("IzEk"),d=n("fXoL");function f(t,e){if(1&t){var n=d.ic();d.hc(0,"ion-button",7),d.pc("click",(function(){return d.Fc(n),d.sc().switchMode()})),d.Kc(1,"Next"),d.gc()}}function h(t,e){if(1&t){var n=d.ic();d.hc(0,"ion-button",7),d.pc("click",(function(){return d.Fc(n),d.sc().switchMode()})),d.Kc(1,"Back"),d.gc()}}function p(t,e){if(1&t){var n=d.ic();d.hc(0,"ion-button",7),d.pc("click",(function(){return d.Fc(n),d.sc().onSubmit()})),d.Kc(1,"I'm Done!"),d.gc()}}var g=function(){function t(e,n,i,o,c){_classCallCheck(this,t),this.router=e,this.loadingController=n,this.accountService=i,this.zone=o,this.route=c,this.selectionMode=r.a.VISITED,this.titleTextVisited="Where have you visited?",this.titleTextToVisit="Bucketlist",this.subtitleTextVisited="We'll get to where you want to go in a moment,\n  but first let's show your friends (and yourself) where you've been!",this.subtitleTextToVisit="Mark down every and any place you find interesting and want to checkout someday, let's make it happen!",this.displayVisitedText=!0,this.locationRequest={locations:{},registration:!0},this.hasError=!1,this.error=""}var e;return _createClass(t,[{key:"ionViewDidEnter",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingController.create({});case 2:return e=t.sent,t.next=5,e.present();case 5:this.map=new a.a(this.zone),this.map.addMapToDiv(this.selectionMode,"register-map"),e.dismiss();case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"ionViewDidLeave",value:function(){this.map.destroyMap()}},{key:"switchMode",value:function(){this.map.zoomHome(),this.selectionMode===r.a.VISITED?(this.map.setSelectionMode(r.a.TO_VISIT),this.displayVisitedText=!1,this.selectionMode=r.a.TO_VISIT):(this.map.setSelectionMode(r.a.VISITED),this.displayVisitedText=!0,this.selectionMode=r.a.VISITED)}},{key:"mapLocationsToRequest",value:function(){var t=this;this.map.selectedArr.forEach((function(e){t.locationRequest.locations[e.locationId]=e.status}))}},{key:"onSubmit",value:function(){var t=this;this.mapLocationsToRequest(),this.accountService.accountUpdateLocationsPost(this.locationRequest).pipe(Object(l.a)(1)).subscribe((function(e){var n={replaceUrl:!1};t.zone.run((function(){t.router.navigateByUrl("/tab1",n)}))}),(function(e){t.hasError=!0,t.error="An unexpected error has occurred."}))}}]),t}();g.\u0275fac=function(t){return new(t||g)(d.cc(s.g),d.cc(c.U),d.cc(u.a),d.cc(d.L),d.cc(s.a))},g.\u0275cmp=d.Wb({type:g,selectors:[["post-register-locations"]],decls:15,vars:5,consts:[["no-bounce",""],[1,"splash"],[1,"ion-align-items-baseline"],[1,"ion-justify-content-start"],["id","register-map",1,"chartdiv"],[1,"button-div"],["class","submit-button","expand","block","type","submit",3,"click",4,"ngIf"],["expand","block","type","submit",1,"submit-button",3,"click"]],template:function(t,e){1&t&&(d.hc(0,"ion-content",0),d.hc(1,"div",1),d.hc(2,"ion-row",2),d.dc(3,"ion-col",3),d.gc(),d.hc(4,"h1"),d.Kc(5),d.gc(),d.hc(6,"h3"),d.Kc(7),d.gc(),d.hc(8,"h4"),d.Kc(9," Click a location on the map to zoom to it. Double click the location to select/deselect it. "),d.gc(),d.dc(10,"div",4),d.hc(11,"div",5),d.Jc(12,f,2,0,"ion-button",6),d.Jc(13,h,2,0,"ion-button",6),d.Jc(14,p,2,0,"ion-button",6),d.gc(),d.gc(),d.gc()),2&t&&(d.Rb(5),d.Lc(e.displayVisitedText?e.titleTextVisited:e.titleTextToVisit),d.Rb(2),d.Lc(e.displayVisitedText?e.subtitleTextVisited:e.subtitleTextToVisit),d.Rb(5),d.yc("ngIf",e.displayVisitedText),d.Rb(1),d.yc("ngIf",!e.displayVisitedText),d.Rb(1),d.yc("ngIf",!e.displayVisitedText))},directives:[c.m,c.G,c.l,i.k,c.f],styles:["ion-content[_ngcontent-%COMP%]{--background:none}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-left:5%;padding-top:10%;font-size:40px;font-weight:700;margin:0;color:#fff}ion-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}ion-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding-left:5%;padding-right:0;color:#fff;margin:0}ion-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:11px}.submit-button[_ngcontent-%COMP%]{--background:#fff;--background-activated:#fff;--ripple-color:#fff;--background-focused:#fff;--color-focused:#fff;color:#128c7e;--vertical-align:middle;padding-left:5%;padding-right:5%}.button-div[_ngcontent-%COMP%]{padding-top:0}.chartdiv[_ngcontent-%COMP%]{width:100%;height:400px}"]});var b=[{path:"",component:g}],y=function t(){_classCallCheck(this,t)};y.\u0275mod=d.ac({type:y}),y.\u0275inj=d.Zb({factory:function(t){return new(t||y)},imports:[[s.k.forChild(b)],s.k]});var v=function t(){_classCallCheck(this,t)};v.\u0275mod=d.ac({type:v}),v.\u0275inj=d.Zb({factory:function(t){return new(t||v)},imports:[[i.c,o.g,c.S,y]]})}}]);