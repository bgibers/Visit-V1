(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{fhSy:function(e,t,o){"use strict";o.r(t),o.d(t,"RegisterPageModule",(function(){return O}));var i=o("ofXK"),n=o("3Pt+"),r=o("TEn/"),c=o("tyNb");var s=o("MCRb"),a=o("IzEk"),g=o("fXoL");function d(e,t){if(1&e&&(g.hc(0,"div",25),g.dc(1,"ion-icon",26),g.Kc(2),g.gc()),2&e){const e=g.sc().$implicit;g.Rb(2),g.Mc(" ",e.message," ")}}function l(e,t){if(1&e&&(g.fc(0),g.Jc(1,d,3,1,"div",19),g.ec()),2&e){const e=t.$implicit,o=g.sc();g.Rb(1),g.yc("ngIf",o.registerForm.get("firstName").hasError(e.type)&&(o.registerForm.get("firstName").dirty||o.registerForm.get("firstName").touched))}}function m(e,t){if(1&e&&(g.hc(0,"div",25),g.dc(1,"ion-icon",26),g.Kc(2),g.gc()),2&e){const e=g.sc().$implicit;g.Rb(2),g.Mc(" ",e.message," ")}}function p(e,t){if(1&e&&(g.fc(0),g.Jc(1,m,3,1,"div",19),g.ec()),2&e){const e=t.$implicit,o=g.sc();g.Rb(1),g.yc("ngIf",o.registerForm.get("lastName").hasError(e.type)&&(o.registerForm.get("lastName").dirty||o.registerForm.get("lastName").touched))}}function u(e,t){if(1&e&&(g.hc(0,"div",25),g.dc(1,"ion-icon",26),g.Kc(2),g.gc()),2&e){const e=g.sc().$implicit;g.Rb(2),g.Mc(" ",e.message," ")}}function f(e,t){if(1&e&&(g.fc(0),g.Jc(1,u,3,1,"div",19),g.ec()),2&e){const e=t.$implicit,o=g.sc();g.Rb(1),g.yc("ngIf",o.registerForm.get("email").hasError(e.type)&&(o.registerForm.get("email").dirty||o.registerForm.get("email").touched))}}function h(e,t){if(1&e&&(g.hc(0,"div",25),g.dc(1,"ion-icon",26),g.Kc(2),g.gc()),2&e){const e=g.sc().$implicit;g.Rb(2),g.Mc(" ",e.message," ")}}function b(e,t){if(1&e&&(g.fc(0),g.Jc(1,h,3,1,"div",19),g.ec()),2&e){const e=t.$implicit,o=g.sc();g.Rb(1),g.yc("ngIf",o.registerForm.get("matchingPasswords").get("password").hasError(e.type)&&(o.registerForm.get("matchingPasswords").get("password").dirty||o.registerForm.get("matchingPasswords").get("password").touched))}}function w(e,t){if(1&e&&(g.hc(0,"div",25),g.dc(1,"ion-icon",26),g.Kc(2),g.gc()),2&e){const e=g.sc().$implicit;g.Rb(2),g.Mc(" ",e.message," ")}}function y(e,t){if(1&e&&(g.fc(0),g.Jc(1,w,3,1,"div",19),g.ec()),2&e){const e=t.$implicit,o=g.sc();g.Rb(1),g.yc("ngIf",o.registerForm.get("matchingPasswords").get("confirmPassword").hasError(e.type)&&(o.registerForm.get("matchingPasswords").get("confirmPassword").dirty||o.registerForm.get("matchingPasswords").get("confirmPassword").touched))}}function v(e,t){if(1&e&&(g.hc(0,"div",25),g.dc(1,"ion-icon",26),g.Kc(2),g.gc()),2&e){const e=g.sc().$implicit;g.Rb(2),g.Mc(" ",e.message," ")}}function P(e,t){if(1&e&&(g.fc(0),g.Jc(1,v,3,1,"div",19),g.ec()),2&e){const e=t.$implicit,o=g.sc();g.Rb(1),g.yc("ngIf",o.registerForm.get("matchingPasswords").hasError(e.type)&&(o.registerForm.get("matchingPasswords").get("confirmPassword").dirty||o.registerForm.get("matchingPasswords").get("confirmPassword").touched))}}function M(e,t){if(1&e&&(g.hc(0,"div",25),g.dc(1,"ion-icon",26),g.Kc(2),g.gc()),2&e){const e=g.sc();g.Rb(2),g.Mc(" ",e.error," ")}}function k(e,t){if(1&e){const e=g.ic();g.hc(0,"ion-button",27),g.pc("click",(function(){g.Fc(e);return g.sc().openAppleSignIn()})),g.dc(1,"ion-icon",28),g.Kc(2," Sign in with Apple "),g.gc()}}const F=function(){return["/sign-in"]};class N{constructor(e,t,o,i,n){this.formBuilder=e,this.router=t,this.platform=o,this.zone=i,this.accountService=n,this.passwordType="password",this.hasError=!1,this.error="",this.showAppleSignIn=!1,this.validationMessages={email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Please enter a valid email."}],firstName:[{type:"required",message:"First name is required."}],lastName:[{type:"required",message:"Last name is required."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 5 characters long."},{type:"pattern",message:"Your password must contain an uppercase, lowercase, number, and character."}],confirmPassword:[{type:"required",message:"Confirm password is required."}],matchingPasswords:[{type:"areEqual",message:"Password mismatch."}]}}ngOnInit(){this.showAppleSignIn=this.platform.is("ios");const e=new n.b("",n.p.compose([n.p.required,n.p.pattern("[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,3}$")]));this.matchingPasswordsGroup=new n.d({password:new n.b("",n.p.compose([n.p.minLength(7),n.p.required,n.p.pattern("^(?=.*[0-9])(?=.*[!@#$%.^&*?])[a-zA-Z0-9!@#$%.^&*?]{7,25}$")])),confirmPassword:new n.b("",n.p.required)},e=>class{static areEqual(e){let t,o=!0;for(const i in e.controls)if(e.controls.hasOwnProperty(i)){const n=e.controls[i];if(void 0===t)t=n.value;else if(t!==n.value){o=!1;break}}return o?null:{areEqual:!0}}}.areEqual(e));const t=new n.b("",n.p.required),o=new n.b("",n.p.required);this.registerForm=new n.d({firstName:t,lastName:o,email:e,matchingPasswords:this.matchingPasswordsGroup})}togglePasswordMode(){this.passwordType="text"===this.passwordType?"password":"text"}async openAppleSignIn(){await this.accountService.loginApple().then(async e=>{if(!0===e.firstLogin){const t={replaceUrl:!1,state:{firstName:e.firstName,lastName:e.lastName,email:e.email,password:"",sso:!0}};this.zone.run(()=>{this.router.navigateByUrl("/post-register-about",t)})}else{const e={replaceUrl:!1};this.zone.run(()=>{this.router.navigateByUrl("/tab1",e)})}})}onSubmit(){this.accountService.accountEmailTakenGet(this.registerForm.controls.email.value).pipe(Object(a.a)(1)).subscribe(e=>{if(!1===e){const e={replaceUrl:!1,state:{firstName:this.registerForm.controls.firstName.value,lastName:this.registerForm.controls.lastName.value,email:this.registerForm.controls.email.value,password:this.matchingPasswordsGroup.controls.password.value}};this.zone.run(()=>{this.router.navigateByUrl("/post-register-about",e)})}else this.hasError=!0,this.error="An account with this email is already registered."},e=>{console.log(e),this.hasError=!0,this.error="An unexpected error has occurred."})}}N.\u0275fac=function(e){return new(e||N)(g.cc(n.a),g.cc(c.g),g.cc(r.Y),g.cc(g.L),g.cc(s.a))},N.\u0275cmp=g.Wb({type:N,selectors:[["register"]],decls:55,vars:15,consts:[["no-bounce","",3,"scrollY"],[1,"splash"],[1,"ion-align-items-baseline"],[1,"ion-justify-content-start"],["defaultHref","/sign-in",2,"color","beige"],[1,"back-to-login"],["routerLinkActive","router-link-active",3,"routerLink"],[3,"formGroup","ngSubmit"],[1,"roundedInput"],["autocapitalize","true","placeholder","First Name*","type","text","formControlName","firstName","required",""],[1,"validation-errors"],[4,"ngFor","ngForOf"],["autocapitalize","true","placeholder","Last Name*","type","text","formControlName","lastName","required",""],["autocapitalize","true","placeholder","Email*","type","email","formControlName","email","required",""],["formGroupName","matchingPasswords"],["autocapitalize","true","placeholder","Password*","formControlName","password","required","",3,"type"],["name","eye","item-right","",3,"click"],[1,"roundedInput",2,"margin-top","10px"],["autocapitalize","true","placeholder","Confirm Password*","formControlName","confirmPassword","required","",3,"type"],["class","error-message",4,"ngIf"],[1,"button-div"],["expand","block","type","submit",1,"submit-button",3,"disabled"],["expand","block",1,"facebook-button"],["slot","start","name","logo-facebook"],["class","apple-button","expand","block",3,"click",4,"ngIf"],[1,"error-message"],["name","information-circle-outline"],["expand","block",1,"apple-button",3,"click"],["slot","start","name","logo-apple"]],template:function(e,t){1&e&&(g.hc(0,"ion-content",0),g.hc(1,"div",1),g.hc(2,"ion-row",2),g.hc(3,"ion-col",3),g.hc(4,"ion-buttons"),g.dc(5,"ion-back-button",4),g.gc(),g.gc(),g.gc(),g.hc(6,"h1"),g.Kc(7,"Create Account"),g.gc(),g.hc(8,"p",5),g.Kc(9," Already have an account? "),g.hc(10,"a",6),g.Kc(11,"Login instead"),g.gc(),g.gc(),g.hc(12,"form",7),g.pc("ngSubmit",(function(){return t.onSubmit()})),g.hc(13,"ion-grid"),g.hc(14,"ion-row"),g.hc(15,"ion-col"),g.hc(16,"ion-item",8),g.dc(17,"ion-input",9),g.hc(18,"div",10),g.Jc(19,l,2,1,"ng-container",11),g.gc(),g.gc(),g.gc(),g.hc(20,"ion-col"),g.hc(21,"ion-item",8),g.dc(22,"ion-input",12),g.hc(23,"div",10),g.Jc(24,p,2,1,"ng-container",11),g.gc(),g.gc(),g.gc(),g.gc(),g.hc(25,"ion-row"),g.hc(26,"ion-col"),g.hc(27,"ion-item",8),g.dc(28,"ion-input",13),g.hc(29,"div",10),g.Jc(30,f,2,1,"ng-container",11),g.gc(),g.gc(),g.gc(),g.gc(),g.hc(31,"ion-row"),g.hc(32,"ion-col"),g.hc(33,"div",14),g.hc(34,"ion-item",8),g.dc(35,"ion-input",15),g.hc(36,"ion-icon",16),g.pc("click",(function(){return t.togglePasswordMode()})),g.gc(),g.gc(),g.hc(37,"div",10),g.Jc(38,b,2,1,"ng-container",11),g.gc(),g.hc(39,"ion-item",17),g.dc(40,"ion-input",18),g.gc(),g.hc(41,"div",10),g.Jc(42,y,2,1,"ng-container",11),g.gc(),g.gc(),g.hc(43,"div",10),g.Jc(44,P,2,1,"ng-container",11),g.gc(),g.hc(45,"div",10),g.Jc(46,M,3,1,"div",19),g.gc(),g.gc(),g.gc(),g.gc(),g.hc(47,"div",20),g.hc(48,"ion-button",21),g.Kc(49,"Register"),g.gc(),g.gc(),g.gc(),g.hc(50,"div",20),g.hc(51,"ion-button",22),g.dc(52,"ion-icon",23),g.Kc(53," Login with Facebook "),g.gc(),g.Jc(54,k,3,0,"ion-button",24),g.gc(),g.gc(),g.gc()),2&e&&(g.yc("scrollY",!1),g.Rb(10),g.yc("routerLink",g.Ac(14,F)),g.Rb(2),g.yc("formGroup",t.registerForm),g.Rb(7),g.yc("ngForOf",t.validationMessages.firstName),g.Rb(5),g.yc("ngForOf",t.validationMessages.lastName),g.Rb(6),g.yc("ngForOf",t.validationMessages.email),g.Rb(5),g.yc("type",t.passwordType),g.Rb(3),g.yc("ngForOf",t.validationMessages.password),g.Rb(2),g.yc("type",t.passwordType),g.Rb(2),g.yc("ngForOf",t.validationMessages.confirmPassword),g.Rb(2),g.yc("ngForOf",t.validationMessages.matchingPasswords),g.Rb(2),g.yc("ngIf",t.hasError),g.Rb(2),g.yc("disabled",!t.registerForm.valid),g.Rb(6),g.yc("ngIf",t.showAppleSignIn))},directives:[r.m,r.G,r.l,r.g,r.d,r.e,c.j,c.i,r.Z,n.q,n.l,n.e,r.r,r.x,r.w,r.bb,n.k,n.c,n.o,i.j,n.f,r.t,i.k,r.f],styles:["ion-content[_ngcontent-%COMP%]{--background:none}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:3%;text-align:center;font-size:40px;font-weight:700;margin:0;color:#fff}ion-header[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background:transparent}.close-icon[_ngcontent-%COMP%]{font-size:30px;color:#fff}.roundedInput[_ngcontent-%COMP%]{--border-radius:10px;--border-width:1px;--highlight-height:0;--background:#f8f9fa;padding-top:10px}.nameRow[_ngcontent-%COMP%]{padding-block:10%}.nameRow[_ngcontent-%COMP%]   .roundedInput[_ngcontent-%COMP%]{padding-block:0}.roundedInput.ion-invalid.item-has-focus[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger-shade)}.roundedInput.ion-valid.item-has-focus[_ngcontent-%COMP%]{--border-color:var(--ion-color-success-shade)}.roundedInput.ion-invalid.ion-dirty[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger-shade)}.roundedInput.ion-valid.ion-dirty[_ngcontent-%COMP%]{--border-color:var(--ion-color-success-shade)}.submit-button[_ngcontent-%COMP%]{--background:#fff;--background-activated:#fff;--ripple-color:#fff;--background-focused:#fff;--color-focused:#fff;color:#128c7e;--vertical-align:middle;padding-left:5%;padding-right:5%}.back-to-login[_ngcontent-%COMP%]{color:#fff;text-align:center}.back-to-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.button-div[_ngcontent-%COMP%]{padding-top:3%}ion-grid[_ngcontent-%COMP%]{padding-left:5%;padding-right:5%;padding-bottom:0}"]});const R=[{path:"",component:N}];class C{}C.\u0275mod=g.ac({type:C}),C.\u0275inj=g.Zb({factory:function(e){return new(e||C)},imports:[[c.k.forChild(R)],c.k]});class O{}O.\u0275mod=g.ac({type:O}),O.\u0275inj=g.Zb({factory:function(e){return new(e||O)},imports:[[i.c,n.g,r.S,n.n,C]]})}}]);