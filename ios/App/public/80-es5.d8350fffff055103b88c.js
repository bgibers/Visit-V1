function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{T60g:function(t,e,n){"use strict";n.r(e),n.d(e,"PostRegisterLocationsPageModule",(function(){return y}));var i=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),s=n("tyNb"),a=n("KFg1"),r=n("iBXB"),l=n("MCRb"),u=n("IzEk"),d=n("fXoL");function f(t,e){if(1&t){var n=d.ic();d.hc(0,"ion-button",5),d.pc("click",(function(){return d.Fc(n),d.sc().switchMode()})),d.Kc(1,"Next"),d.gc()}}function h(t,e){if(1&t){var n=d.ic();d.hc(0,"ion-button",5),d.pc("click",(function(){return d.Fc(n),d.sc().switchMode()})),d.Kc(1,"Back"),d.gc()}}function p(t,e){if(1&t){var n=d.ic();d.hc(0,"ion-button",5),d.pc("click",(function(){return d.Fc(n),d.sc().onSubmit()})),d.Kc(1,"I'm Done!"),d.gc()}}var g=function(){function t(e,n,i,o){_classCallCheck(this,t),this.router=e,this.accountService=n,this.zone=i,this.route=o,this.selectionMode=r.a.VISITED,this.titleTextVisited="Where have you visited?",this.titleTextToVisit="Bucketlist",this.subtitleTextVisited="We'll get to where you want to go in a moment,\n  but first let's show your friends (and yourself) where you've been!",this.subtitleTextToVisit="Mark down every and any place you find interesting and want to checkout someday, let's make it happen!",this.displayVisitedText=!0,this.locationRequest={locations:{},registration:!0},this.hasError=!1,this.error=""}return _createClass(t,[{key:"ionViewWillEnter",value:function(){this.map=new a.a(this.zone),this.map.addMapToDiv(this.selectionMode,"register-map")}},{key:"ionViewDidLeave",value:function(){this.map.destroyMap()}},{key:"switchMode",value:function(){this.map.zoomHome(),this.selectionMode===r.a.VISITED?(this.map.setSelectionMode(r.a.TO_VISIT),this.displayVisitedText=!1,this.selectionMode=r.a.TO_VISIT):(this.map.setSelectionMode(r.a.VISITED),this.displayVisitedText=!0,this.selectionMode=r.a.VISITED)}},{key:"mapLocationsToRequest",value:function(){var t=this;this.map.selectedArr.forEach((function(e){t.locationRequest.locations[e.locationId]=e.status}))}},{key:"onSubmit",value:function(){var t=this;this.mapLocationsToRequest(),this.accountService.accountUpdateLocationsPost(this.locationRequest).pipe(Object(u.a)(1)).subscribe((function(e){var n={replaceUrl:!1};t.zone.run((function(){t.router.navigateByUrl("/tab1",n)}))}),(function(e){t.hasError=!0,t.error="An unexpected error has occurred."}))}}]),t}();g.\u0275fac=function(t){return new(t||g)(d.cc(s.g),d.cc(l.a),d.cc(d.L),d.cc(s.a))},g.\u0275cmp=d.Wb({type:g,selectors:[["post-register-locations"]],decls:13,vars:5,consts:[["no-bounce",""],[1,"splash"],["id","register-map",1,"chartdiv"],[1,"button-div"],["class","submit-button","expand","block","type","submit",3,"click",4,"ngIf"],["expand","block","type","submit",1,"submit-button",3,"click"]],template:function(t,e){1&t&&(d.hc(0,"ion-content",0),d.hc(1,"div",1),d.hc(2,"h1"),d.Kc(3),d.gc(),d.hc(4,"h3"),d.Kc(5),d.gc(),d.hc(6,"h4"),d.Kc(7," Click a location on the map to zoom to it. Double click the location to select/deselect it. "),d.gc(),d.dc(8,"div",2),d.hc(9,"div",3),d.Jc(10,f,2,0,"ion-button",4),d.Jc(11,h,2,0,"ion-button",4),d.Jc(12,p,2,0,"ion-button",4),d.gc(),d.gc(),d.gc()),2&t&&(d.Rb(3),d.Lc(e.displayVisitedText?e.titleTextVisited:e.titleTextToVisit),d.Rb(2),d.Lc(e.displayVisitedText?e.subtitleTextVisited:e.subtitleTextToVisit),d.Rb(5),d.yc("ngIf",e.displayVisitedText),d.Rb(1),d.yc("ngIf",!e.displayVisitedText),d.Rb(1),d.yc("ngIf",!e.displayVisitedText))},directives:[c.m,i.k,c.f],styles:["ion-content[_ngcontent-%COMP%]{--background:none}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-left:5%;padding-top:0;font-size:40px;font-weight:700;margin:0;color:#fff}ion-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}ion-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding-left:5%;padding-right:0;color:#fff;margin:0}ion-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:11px}.submit-button[_ngcontent-%COMP%]{--background:#fff;--background-activated:#fff;--ripple-color:#fff;--background-focused:#fff;--color-focused:#fff;color:#128c7e;--vertical-align:middle;padding-left:5%;padding-right:5%}.button-div[_ngcontent-%COMP%]{padding-top:0}.chartdiv[_ngcontent-%COMP%]{width:100%;height:400px}"]});var b=[{path:"",component:g}],m=function t(){_classCallCheck(this,t)};m.\u0275mod=d.ac({type:m}),m.\u0275inj=d.Zb({factory:function(t){return new(t||m)},imports:[[s.k.forChild(b)],s.k]});var y=function t(){_classCallCheck(this,t)};y.\u0275mod=d.ac({type:y}),y.\u0275inj=d.Zb({factory:function(t){return new(t||y)},imports:[[i.c,o.g,c.S,m]]})}}]);